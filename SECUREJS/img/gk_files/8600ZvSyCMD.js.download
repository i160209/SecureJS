if (self.CavalryLogger) { CavalryLogger.start_js(["zB2lG"]); }

__d("AsyncLoader",["AsyncRequest","BaseAsyncLoader"],(function(a,b,c,d,e,f){function a(a,b){this._endpoint=a,this._type=b}Object.assign(a.prototype,b("BaseAsyncLoader").prototype);a.prototype.send=function(a,c,d,e,f){new(b("AsyncRequest"))(a).setData({ids:c}).setHandler(e).setErrorHandler(f).setAllowCrossPageTransition(!0).setMethod("GET").setReadOnly(!0).send()};e.exports=a}),null);
__d("ChatHovercard",["Arbiter","AsyncLoader","Bootloader","JSLogger","TimeSlice","debounce","emptyFunction","setTimeoutAcrossTransitions"],(function(a,b,c,d,e,f){__p&&__p();var g=5,h=new(b("AsyncLoader"))("/ajax/chat/hovercard/sidebar.php","hover"),i=b("JSLogger").create("chat_hovercard");b("Arbiter").subscribe("Hovercard/dirty",h.reset.bind(h));function j(a,c){var d=function(){h.get(a,c)};b("TimeSlice").guard(d,"superfluous request to first open DD",{propagationType:b("TimeSlice").PropagationType.ORPHAN})()}function k(a,c){__p&&__p();if(!a)return;j(a,function(d){__p&&__p();b("setTimeoutAcrossTransitions")(function(){__p&&__p();if(!d){i.error("fetch_failure",{id:a});return}b("Bootloader").loadModules(["Hovercard"],function(b){b=b.getDialog(d);if(!b){i.error("no_hovercard",{id:a,endpoint:d});return}a==c.getActiveID()&&c.showHovercard(a,b)},"ChatHovercard")},0)})}function l(a,b){__p&&__p();var c=[];function d(b){b>=0&&b<a.length&&c.push(a[b])}b=a.indexOf(b);if(b>-1){d(b);for(var e=1;e<g;e++)d(b+e),d(b-e)}return c.filter(function(a){return a})}function m(a,c){c=c.getActiveID();if(c){a=a.getShowingUsers();a=l(a,c);j(a,b("emptyFunction"))}}function a(a){var c=a.getHoverController();c.registerDefault(k);c.subscribe("hover",b("debounce")(m.bind(null,a,c),100))}e.exports=a}),null);
__d("ChatSidebarActionTypes",["keyMirror"],(function(a,b,c,d,e,f){"use strict";e.exports=b("keyMirror")({AFTER_DOM_LOAD:null,INIT:null,LOADED:null,SET_ENABLED:null,SHOW:null})}),null);
__d("ChatSidebarPresencePrivacyActions",["keyMirror"],(function(a,b,c,d,e,f){"use strict";a=b("keyMirror")({PRIVACY_CHANGED:null,USER_PRESENCE_CHANGED:null});e.exports=a}),null);
__d("ChatSidebarRecentCallsActions",["keyMirror"],(function(a,b,c,d,e,f){"use strict";a=b("keyMirror")({RECENT_CALLS_UPDATED:null});e.exports=a}),null);
__d("ChatSidebarActions",["ChatDispatcher","ChatSidebarActionTypes","ChatSidebarPresencePrivacyActions","ChatSidebarRecentCallsActions"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a={init:function(){b("ChatDispatcher").dispatch({type:b("ChatSidebarActionTypes").INIT})},afterDomLoad:function(){b("ChatDispatcher").dispatch({type:b("ChatSidebarActionTypes").AFTER_DOM_LOAD})},loaded:function(){b("ChatDispatcher").dispatch({type:b("ChatSidebarActionTypes").LOADED})},disable:function(){b("ChatDispatcher").dispatch({type:b("ChatSidebarActionTypes").SET_ENABLED,enabled:!1,sidebarType:"buddylist"})},enable:function(a){b("ChatDispatcher").dispatch({type:b("ChatSidebarActionTypes").SET_ENABLED,enabled:!0,sidebarType:a})},show:function(a){b("ChatDispatcher").dispatch({type:b("ChatSidebarActionTypes").SHOW,sidebarType:a})},userPresenceChanged:function(){b("ChatDispatcher").dispatch({type:b("ChatSidebarPresencePrivacyActions").USER_PRESENCE_CHANGED})},privacyChanged:function(){b("ChatDispatcher").dispatch({type:b("ChatSidebarPresencePrivacyActions").PRIVACY_CHANGED})},recentCallsUpdated:function(a){b("ChatDispatcher").dispatch({type:b("ChatSidebarRecentCallsActions").RECENT_CALLS_UPDATED,calls:a})}};e.exports=a}),null);
__d("ChatSidebarDropdownConstants",[],(function(a,b,c,d,e,f){a=Object.freeze({SOUND:"sound",ADVANCED_SETTINGS:"advanced_settings",BLOCK_SETTINGS:"block_settings",TURN_OFF_DIALOG:"turn_off_dialog",CLOSE_ALL_TABS:"close_all_tabs",LOWER_ALL_TABS:"lower_all_tabs",TOGGLE_DISCOVER_BOTS:"toggle_discover_bots",SIDEBAR:"sidebar",HIDE_GROUPS:"hide_groups",ONLINE:"online",VIDEOCALL_ON:"videoon",VIDEOCALL_OFF:"videooff",PAUSE:"pause",SHOW_APPS:"show_apps",HIDE_APPS:"hide_apps",HIDE_MARKETPLACE:"hide_marketplace",SHOW_TICKER:"show_ticker",HIDE_TICKER:"hide_ticker",HIDE_ADMINED_PAGES:"hide_admined_pages",HIDE_BUSINESSES:"hide_businesses",EMOJI_SETTINGS:"emoji_settings",TURN_OFF_CHAT_TABS:"turn_off_chat_tabs"});e.exports=a}),null);
__d("FBRTCDispatcher",["Dispatcher_DEPRECATED"],(function(a,b,c,d,e,f){"use strict";e.exports=new(b("Dispatcher_DEPRECATED"))()}),null);
__d("FBRTCStore",["FBRTCDispatcher","FluxStore"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.call(this,b("FBRTCDispatcher"))||this}var d=c.prototype;d.__emitChange=function(){this.__emitter.emit(this.__changeEvent)};return c}(b("FluxStore"));a.__moduleID=e.id;e.exports=a}),null);
__d("FBRTCCallBlockingStore",["Arbiter","AsyncRequest","Bootloader","ChannelConstants","FBRTCDispatcher","FBRTCStore","clearTimeout","setTimeoutAcrossTransitions"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=!1,h=0,i=null,j="call_block_setting_changed";a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.init=function(a){this.$FBRTCCallBlockingStore1(a),b("Arbiter").subscribe(b("ChannelConstants").getArbiterType("videocall_block_setting"),this.$FBRTCCallBlockingStore2.bind(this))};d.__onDispatch=function(a){if(a.type!==j)return;this.$FBRTCCallBlockingStore1(a.data)};d.$FBRTCCallBlockingStore1=function(a){switch(a){case 0:g=!1;this.$FBRTCCallBlockingStore3();break;case-1:g=!0;this.$FBRTCCallBlockingStore3();break;default:g=!0,this.$FBRTCCallBlockingStore4(a)}this.__emitChange()};d.$FBRTCCallBlockingStore4=function(a){i===null&&(i=b("setTimeoutAcrossTransitions")(this.turnOnVideoCalling.bind(this),a*1e3))};d.getBlockingStatus=function(){return g};d.turnOnVideoCalling=function(){new(b("AsyncRequest"))("/ajax/chat/settings.php").setHandler(this.$FBRTCCallBlockingStore5.bind(this)).setData({call_blocked_until:0}).send()};d.turnOffVideoCalling=function(a){h=a,new(b("AsyncRequest"))("/ajax/chat/settings.php").setHandler(this.$FBRTCCallBlockingStore6.bind(this)).setData({call_blocked_until:a}).send()};d.$FBRTCCallBlockingStore3=function(){i&&(b("clearTimeout")(i),i=null)};d.$FBRTCCallBlockingStore5=function(){b("FBRTCDispatcher").dispatch({type:j,data:0}),b("Bootloader").loadModules(["RTWebUserActionLogger"],function(a){a.logCheckpoint({checkpoint:"rtc_enabled"})},"FBRTCCallBlockingStore")};d.$FBRTCCallBlockingStore6=function(){b("FBRTCDispatcher").dispatch({type:j,data:h}),b("Bootloader").loadModules(["RTWebUserActionLogger"],function(a){a.logCheckpoint({checkpoint:h===-1?"rtc_disabled_permanently":"rtc_disabled_temporarily"})},"FBRTCCallBlockingStore")};d.$FBRTCCallBlockingStore2=function(a,c){b("FBRTCDispatcher").dispatch({type:j,data:c.obj.value})};return c}(b("FBRTCStore"));e.exports=new a()}),null);
__d("ChatOptions",["Arbiter","ArbiterMixin","Bootloader","ChannelConstants","ChatSidebarActions","ChatSidebarDropdownConstants","FBRTCCallBlockingStore","JSLogger","PresenceUtil","mixin","ChatOptionsInitialData"],(function(a,b,c,d,e,f){__p&&__p();var g=b("JSLogger").create("chat_options"),h={};(function(){__p&&__p();var a=b("ChatOptionsInitialData");for(var c in a){var d=a[c];switch(c){case"call_blocked_until":b("FBRTCCallBlockingStore").init(d);break;case b("ChatSidebarDropdownConstants").TURN_OFF_CHAT_TABS:d!==-1&&(h[c]=!!d);break;default:h[c]=!!d}}})();a=function(a){"use strict";__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.getSetting=function(a){return h[a]};d.setSetting=function(a,c,d){__p&&__p();if(a==="sidebar_mode"){b("Bootloader").loadModules(["ChatSidebarVisibility"],function(a){return a.shouldShowSidebarIgnoreEnabled(null,function(a,d){c?b("ChatSidebarActions").enable(a?"sidebar":"buddylist"):b("ChatSidebarActions").disable()})},"ChatOptions");return}if(this.getSetting(a)==c)return;d&&(d="from_"+d,g.log(d,{name:a,new_value:c,old_value:this.getSetting(a)}));h[a]=!!c;b("Arbiter").inform("chat/option-changed",{name:a,value:c})};return c}(b("mixin")(b("ArbiterMixin")));b("Arbiter").subscribe(b("ChannelConstants").getArbiterType("setting"),function(a,c){a=c.obj;if(a.window_id===b("PresenceUtil").getSessionID())return;i.setSetting(a.setting,!!a.value,"channel")});b("Arbiter").subscribe(b("JSLogger").DUMP_EVENT,function(a,b){b.chat_options=h});var i=new a();e.exports=i}),null);
__d("ChatOrderedListHover",["csx","ArbiterMixin","CSS","ErrorUtils","Event","LayerHideOnBlur","Parent","clearTimeout","mixin","setTimeoutAcrossTransitions","shield"],(function(a,b,c,d,e,f,g){__p&&__p();function h(a){b("CSS").addClass(a,"fetching")}function i(a){b("CSS").removeClass(a,"fetching")}a=function(a){"use strict";__p&&__p();babelHelpers.inheritsLoose(c,a);function c(c){var d;d=a.call(this)||this;d._orderedList=c;d._root=c.getRoot();b("Event").listen(d._root,"mouseover",d._mouseOver.bind(babelHelpers.assertThisInitialized(d)));b("Event").listen(d._root,"mouseleave",d._mouseLeave.bind(babelHelpers.assertThisInitialized(d)));c.subscribe("click",b("shield")(d._hide,babelHelpers.assertThisInitialized(d)));return d}var d=c.prototype;d._mouseOver=function(a){if(this._paused)return;a=a.getTarget();a=b("Parent").bySelector(a,"._42fz")||b("Parent").bySelector(a,"._5a58");a&&this._setActiveItem(a)};d._mouseLeave=function(a){this._setActiveItem(null)};d._clearTimeouts=function(){this._showTimeout&&b("clearTimeout")(this._showTimeout),this._showTimeout=null,this._hideTimeout&&b("clearTimeout")(this._hideTimeout),this._hideTimeout=null};d._hide=function(){this._showingDialog&&(this._showingDialog.hide(),this._showingDialog=null,this._showingID=null)};d._show=function(){var a=this.getActiveID(),c=!1;this._defaultHandler&&(c=!0,b("ErrorUtils").applyWithGuard(this._defaultHandler,{},[a,this]));c&&this._showingID!=this.getActiveID()&&h(this._activeItem)};d._setActiveItem=function(a){__p&&__p();var c=this;if(a!=this._activeItem){this._clearTimeouts();this._activeItem&&i(this._activeItem);if(a){this._activeItem=a;a=this._showingDialog?0:600;this._showTimeout=b("setTimeoutAcrossTransitions")(function(){return c._show()},a);this.inform("hover")}else this._activeItem=null,this._hideTimeout=b("setTimeoutAcrossTransitions")(function(){return c._hide()},10),this.inform("leave")}};d.registerDefault=function(a){this._defaultHandler=a};d.getActiveID=function(){var a=this._activeItem&&this._orderedList.getUserForNode(this._activeItem);return a||null};d.showHovercard=function(a,c){__p&&__p();if(a==this.getActiveID()&&a!=this._showingID){this._clearTimeouts();i(this._activeItem);this._hide();this._showingDialog=c;this._showingID=a;var d=c.subscribe("mouseenter",this._setActiveItem.bind(this,this._activeItem)),e=c.subscribe("mouseleave",function(){d.unsubscribe(),this._setActiveItem(null)}.bind(this)),f=c.subscribe("hide",function(){this.inform("hovercard_hide"),d.unsubscribe(),e.unsubscribe(),f.unsubscribe()}.bind(this));c.enableBehavior(b("LayerHideOnBlur")).setContext(this._activeItem).setPosition("left").show();this.inform("hovercard_show")}};return c}(b("mixin")(b("ArbiterMixin")));Object.assign(a.prototype,{_root:null,_activeItem:null,_hideTimeout:null,_showTimeout:null,_showingDialog:null,_showingID:null,_defaultHandler:null});e.exports=a}),null);
__d("ChatSidebarConstants",[],(function(a,b,c,d,e,f){"use strict";var g={IMAGE_SIZE:32,getImageSize:function(){return g.IMAGE_SIZE},getItemHeight:function(){return g.IMAGE_SIZE+8}};e.exports=g}),null);
__d("ChatUnreadCountActionTypes",["keyMirror"],(function(a,b,c,d,e,f){"use strict";e.exports=b("keyMirror")({COUNT_UPDATED:null})}),null);
__d("ShortProfilesActionTypes",["keyMirror"],(function(a,b,c,d,e,f){"use strict";e.exports=b("keyMirror")({PROFILE_UPDATED:null})}),null);
__d("ShortProfilesStore",["ChatDispatcher","ChatProfileStore","FluxStore","ShortProfiles","ShortProfilesActionTypes"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){return a.call(this,b("ChatDispatcher"))||this}var d=c.prototype;d.__onDispatch=function(a){a=a.type;switch(a){case b("ShortProfilesActionTypes").PROFILE_UPDATED:this.__emitChange();break;default:break}};d.getNow=function(a){var c=b("ChatProfileStore").get(a);c||(c=b("ShortProfiles").getNow(a));return c};d.getMulti=function(a){b("ShortProfiles").getMulti(a,this.$ShortProfilesStore1)};d.$ShortProfilesStore1=function(a){b("ChatDispatcher").dispatch({type:b("ShortProfilesActionTypes").PROFILE_UPDATED})};return c}(b("FluxStore"));a.__moduleID=e.id;e.exports=new a()}),null);
__d("ChatSidebarStore",["AvailableListConstants","ChatConfig","ChatDispatcher","ChatOptions","ChatOptionsInitialData","ChatSidebarActionTypes","ChatUnreadCountActionTypes","CurrentUser","FluxStore","InitialChatFriendsList","PresenceOrderedList","PresencePrivacy","PresenceStatus","PresenceStatusActionTypes","PresenceStatusStore","ShortProfiles","ShortProfilesActionTypes","ShortProfilesStore","gkx","performanceAbsoluteNow"],(function(a,b,c,d,e,f){"use strict";__p&&__p();function g(a){return a.map(function(a){var b=a.slice(0,-2);a=Number(a.slice(-1));return[b,a]})}function h(a,c,d){d===void 0&&(d=[]);return a.reduce(function(a,e){var f=e[0];e=e[1];a.length<c&&b("PresencePrivacy").getFriendVisibility(f)!==b("PresencePrivacy").BLACKLISTED&&e===b("PresenceStatus").get(f)&&!d.includes(f)&&a.push(f);return a},[])}function i(a){return b("PresencePrivacy").getVisibility()==b("PresencePrivacy").ONLINE?a.filter(function(a){return b("PresencePrivacy").allows(a)}):a}a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){var c;c=a.call(this,b("ChatDispatcher"))||this;c.$ChatSidebarStore2={enabled:!1,initTime:0,initialized:!1,isAfterDomLoad:!1,loaded:!1,visible:null};c.setupShortProfiles();c.$ChatSidebarStore3={enabled:!!b("ChatOptionsInitialData").sidebar_mode,initTime:b("performanceAbsoluteNow")(),initialized:!1,isAfterDomLoad:!1,loaded:!1,visible:null};return c}var d=c.prototype;d.setupShortProfiles=function(){var a=b("InitialChatFriendsList").shortProfiles;a&&b("ShortProfiles").setMulti(a)};d.__onDispatch=function(a){__p&&__p();var c=a.type;this.$ChatSidebarStore2=babelHelpers["extends"]({},this.$ChatSidebarStore3);switch(c){case b("ChatSidebarActionTypes").INIT:this.$ChatSidebarStore2.initialized||(this.$ChatSidebarStore3=babelHelpers["extends"]({},this.$ChatSidebarStore3,{initTime:b("performanceAbsoluteNow")()}));this.$ChatSidebarStore3=babelHelpers["extends"]({},this.$ChatSidebarStore3,{initialized:!0});break;case b("ChatSidebarActionTypes").AFTER_DOM_LOAD:this.$ChatSidebarStore3=babelHelpers["extends"]({},this.$ChatSidebarStore3,{isAfterDomLoad:!0});break;case b("ChatSidebarActionTypes").LOADED:this.$ChatSidebarStore3=babelHelpers["extends"]({},this.$ChatSidebarStore3,{loaded:!0});break;case b("ChatSidebarActionTypes").SHOW:this.$ChatSidebarStore3=babelHelpers["extends"]({},this.$ChatSidebarStore3,{visible:a.sidebarType});break;case b("ChatSidebarActionTypes").SET_ENABLED:this.$ChatSidebarStore3=babelHelpers["extends"]({},this.$ChatSidebarStore3,{enabled:a.enabled,visible:a.sidebarType});break}if(b("gkx")("678655")&&(c===b("PresenceStatusActionTypes").AVAILABILITY_CHANGED||c===b("ShortProfilesActionTypes").PROFILE_UPDATED||c===b("ChatUnreadCountActionTypes").COUNT_UPDATED)){this.__emitChange();return}for(var d in this.$ChatSidebarStore3)if(Object.prototype.hasOwnProperty.call(this.$ChatSidebarStore3,d)&&this.$ChatSidebarStore3[d]!==this.$ChatSidebarStore2[d]){this.__emitChange();break}};d.getPrevState=function(){return this.$ChatSidebarStore2};d.getState=function(){return this.$ChatSidebarStore3};d.isInitialized=function(){return this.$ChatSidebarStore3.initialized};d.isLoaded=function(){return this.$ChatSidebarStore3.loaded};d.isAfterDomLoad=function(){return this.$ChatSidebarStore3.isAfterDomLoad};d.isEnabled=function(){return this.$ChatSidebarStore3.enabled};d.getInitTime=function(){return this.$ChatSidebarStore3.initTime};d.getVisibleType=function(){return this.$ChatSidebarStore3.visible};d.getUsersData=function(a){__p&&__p();a=this.getOrderedPresenceUserList(a);var c=b("InitialChatFriendsList").nearby,d=b("CurrentUser").isWorkUser()?b("PresenceOrderedList").getAllSorted(a.concat(c)).filter(function(a){a=b("ShortProfilesStore").getNow(a);return!a||a.type==="fb4c"}):b("PresenceOrderedList").getAvailableSorted(a.concat(c)),e=b("CurrentUser").isWorkUser()?b("PresenceOrderedList").getAllSorted(a.concat(c)).filter(function(a){a=b("ShortProfilesStore").getNow(a);return a&&a.type!=="fb4c"}):[];a=a.filter(function(a){return!c||c.indexOf(a)===-1});var f=i(a);a=b("PresencePrivacy").getOnlinePolicy()===b("PresencePrivacy").ONLINE_TO_WHITELIST&&b("PresencePrivacy").getVisibility()?a.filter(function(a){return!b("PresencePrivacy").allows(a)}):[];return{availableUsers:d,topUsers:f,workOthers:e,offlineUsers:a}};d.getExtraData=function(a){__p&&__p();var c=b("InitialChatFriendsList").groups,d=b("InitialChatFriendsList").nearby,e=b("InitialChatFriendsList").adminedPages,f=b("InitialChatFriendsList").marketplaceThreads,g=b("InitialChatFriendsList").pageListModule,h=b("InitialChatFriendsList").pymmList;a--;b("ChatConfig").get("show_header")&&a--;var j=!b("ChatOptions").getSetting("hide_businesses")&&h&&h.pages;j&&(a-=3);e=b("ChatOptions").getSetting("hide_admined_pages")?[]:e;e.length&&(a-=e.length+1);var k=a,l=a;c=this.getGroupsToShow(c);var m=c.length;m===0&&!b("ChatOptions").getSetting("hide_groups")&&m++;m>0&&(l-=m+1);b("ChatConfig").get("nearby_friends_www_chatbar")&&d.length>0&&(l-=d.length+1);b("ChatConfig").get("show_admined_pages")&&e.length>0&&(l-=e.length+1);m=j&&h?h:{pages:[]};b("ChatConfig").get("show_businesses")&&m.pages.length>0&&(l-=2);l=Math.min(a,Math.max(l,b("ChatConfig").get("min_top_friends")||0));j=i(d);return{isUserOffline:b("PresencePrivacy").isUserOffline(),groups:c,numTopFriends:l,nearby:j,marketplaceThreads:f,maxThreadSlots:k,adminedPages:e,pageListModule:g,pymmList:m}};d.getGroupsToShow=function(a){if(b("ChatOptions").getSetting("hide_groups"))return[];return a.length>1?a.sort(function(a,c){return b("PresenceStatus").getGroup(c.mercury_thread.participants)-b("PresenceStatus").getGroup(a.mercury_thread.participants)}).slice(0,b("ChatConfig").getNumber("num_groups_to_show")):a};d.getOrderedPresenceUserList=function(a){if(this.$ChatSidebarStore1&&Array.isArray(this.$ChatSidebarStore1))return h(this.$ChatSidebarStore1,a);this.$ChatSidebarStore1=g(b("InitialChatFriendsList").list)||[];return h(this.$ChatSidebarStore1,a)};d.getStatusMap=function(a,c){var d={},e={};a.forEach(function(a){if(c){var f=b("PresenceStatusStore").getIsPlaying(a);d[a]=f}f=b("PresenceStatusStore").get(a);f===b("AvailableListConstants").ACTIVE&&(e[a]=f)});return{statusMap:e,playingMap:d}};return c}(b("FluxStore"));a.__moduleID=e.id;e.exports=new a()}),null);
__d("ChatUnreadCountStore",["ChatDispatcher","ChatUnreadCountActionTypes","FluxStore","ifRequired"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){return a.call(this,b("ChatDispatcher"))||this}var d=c.prototype;d.__onDispatch=function(a){a=a.type;switch(a){case b("ChatUnreadCountActionTypes").COUNT_UPDATED:this.__emitChange();break;default:break}};d.get=function(a){return b("ifRequired")("ChatUnreadCount",function(b){return b.get().getUnreadCountForUID(a)||0},function(){return 0})};return c}(b("FluxStore"));a.__moduleID=e.id;e.exports=new a()}),null);
__d("ChatSidebarUserDetailsFactory",["AvailableListConstants","ChatUnreadCountStore","LastActiveTimes","PresencePrivacy","PresenceStatusStore","ShortProfilesStore","gkx"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g={getUsersDetailedData:function(a,c){var d={},e=[];a.forEach(function(a){if(!Object.prototype.hasOwnProperty.call(d,a)){var b=g._getDetailsForUserId(a,c);d[a]=b;b||e.push(a)}});e.length>0&&b("ShortProfilesStore").getMulti(e);return d},_getDetailsForUserId:function(a,c){var d=b("ShortProfilesStore").getNow(a);if(d){var e=b("PresenceStatusStore").get(a);return{shortProfile:d,presencePrivacyAllows:b("PresencePrivacy").allows(a),lastActiveTime:b("LastActiveTimes").getShortDisplay(a),unreadCount:b("gkx")("780925")?0:b("ChatUnreadCountStore").get(a),isPlaying:c?b("PresenceStatusStore").getIsPlaying(a):!1,status:e===b("AvailableListConstants").ACTIVE?e:null}}return null}};e.exports=g}),null);
__d("MessengerDivebarSizingTypedLogger",["Banzai","GeneratedLoggerUtils","nullthrows"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a=function(){__p&&__p();function a(){this.$1={}}var c=a.prototype;c.log=function(){b("GeneratedLoggerUtils").log("logger:MessengerDivebarSizingLoggerConfig",this.$1,b("Banzai").BASIC)};c.logVital=function(){b("GeneratedLoggerUtils").log("logger:MessengerDivebarSizingLoggerConfig",this.$1,b("Banzai").VITAL)};c.logImmediately=function(){b("GeneratedLoggerUtils").log("logger:MessengerDivebarSizingLoggerConfig",this.$1,{signal:!0})};c.clear=function(){this.$1={};return this};c.getData=function(){return babelHelpers["extends"]({},this.$1)};c.updateData=function(a){this.$1=babelHelpers["extends"]({},this.$1,a);return this};c.setMaxItemSlots=function(a){this.$1.max_item_slots=a;return this};c.setNumAdminedPages=function(a){this.$1.num_admined_pages=a;return this};c.setNumGroups=function(a){this.$1.num_groups=a;return this};c.setNumNearby=function(a){this.$1.num_nearby=a;return this};c.setNumPymm=function(a){this.$1.num_pymm=a;return this};c.setNumRecents=function(a){this.$1.num_recents=a;return this};c.setNumTopFriends=function(a){this.$1.num_top_friends=a;return this};c.setNumTopFriendsShown=function(a){this.$1.num_top_friends_shown=a;return this};c.setSidebarType=function(a){this.$1.sidebar_type=a;return this};c.setTime=function(a){this.$1.time=a;return this};c.setWeight=function(a){this.$1.weight=a;return this};c.updateExtraData=function(a){a=b("nullthrows")(b("GeneratedLoggerUtils").serializeMap(a));b("GeneratedLoggerUtils").checkExtraDataFieldNames(a,g);this.$1=babelHelpers["extends"]({},this.$1,a);return this};c.addToExtraData=function(a,b){var c={};c[a]=b;return this.updateExtraData(c)};return a}();var g={max_item_slots:!0,num_admined_pages:!0,num_groups:!0,num_nearby:!0,num_pymm:!0,num_recents:!0,num_top_friends:!0,num_top_friends_shown:!0,sidebar_type:!0,time:!0,weight:!0};e.exports=a}),null);
__d("WorkChatSidebarUtils",["Bootloader","CurrentUser","gkx"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a={loadPinnedThreads:function(a){__p&&__p();var c=this;b("Bootloader").loadModules(["MercuryServerRequests","MercuryThreadInformer","MessengerState.bs","SubscriptionsHandler"],function(d,e,f,g){__p&&__p();c._serverRequests=d.get();d=e.get();c._subscriptions=new g();c._subscriptions.addSubscriptions(d.subscribe("threadlist-updated",function(c,d){var e=f.getPinnedThreadlist(b("CurrentUser").getID());f.getMultiThreadMeta(b("CurrentUser").getID(),e,function(b){var c=e.map(function(a){if(Array.isArray(a))return a.map(function(a){return b[a]});else return b[a]});a(c)})}));c._serverRequests.fetchPinnedThreadlistInfo()},"WorkChatSidebarUtils")},computeGroups:function(a,c){if(b("gkx")("678258")){var d=c.map(function(a){return a.thread_fbid});return a.filter(function(a){return!d.includes(a.uid)})}else return a},computeTopUsers:function(a,c){if(b("gkx")("678258")){var d=c.map(function(a){return a.thread_fbid});return a.filter(function(a){return!d.includes(a)})}else return a}};e.exports=a}),null);
__d("requestIdleCallback",["requireCond","cr:694370"],(function(a,b,c,d,e,f){e.exports=b("cr:694370")}),null);
__d("ChatOrderedList",["csx","Arbiter","ArbiterMixin","AvailableList","AvailableListConstants","Bootloader","ChatConfig","ChatHovercard","ChatOptions","ChatOrderedListHover","ChatSidebarConstants","ChatSidebarPreloadStore","ChatSidebarStore","ChatSidebarUserDetailsFactory","CSS","CurrentUser","DataStore","DOM","Event","MessengerDivebarSizingTypedLogger","Parent","PresenceOrderedList","PresencePrivacy","React","ReactDOM","ShortProfilesStore","WorkChatSidebarUtils","debounceAcrossTransitions","emptyFunction","gkx","mixin","onAfterDisplay","qex"],(function(a,b,c,d,e,f,g){__p&&__p();a=function(a){"use strict";__p&&__p();babelHelpers.inheritsLoose(c,a);function c(c,d,e,f,g){__p&&__p();var h;h=a.call(this)||this;h._debouncedRender=b("emptyFunction");h._render=function(){__p&&__p();if(!h._isVisible||h._isHovering){h._isHovering&&(h._skippedRenderDuringHover=!0);return}b("PresenceOrderedList").getSorted(h._numTopFriends,function(a){__p&&__p();var c=b("CurrentUser").isWorkUser()?b("PresenceOrderedList").getAllSorted(a.concat(h._nearby)).filter(function(a){a=b("ShortProfilesStore").getNow(a);return!a||a.type==="fb4c"}):b("PresenceOrderedList").getAvailableSorted(a.concat(h._nearby)),d=b("CurrentUser").isWorkUser()?b("PresenceOrderedList").getAllSorted(a.concat(h._nearby)).filter(function(a){a=b("ShortProfilesStore").getNow(a);return a&&a.type!=="fb4c"}):[];a=a.filter(function(a){return!h._nearby||h._nearby.indexOf(a)===-1});var e=b("PresencePrivacy").getVisibility()==b("PresencePrivacy").ONLINE?h._nearby.filter(function(a){return b("PresencePrivacy").allows(a)}):h._nearby,f=b("PresencePrivacy").getVisibility()==b("PresencePrivacy").ONLINE?a.filter(function(a){return b("PresencePrivacy").allows(a)}):a;a=b("PresencePrivacy").getOnlinePolicy()===b("PresencePrivacy").ONLINE_TO_WHITELIST&&b("PresencePrivacy").getVisibility()?a.filter(function(a){return!b("PresencePrivacy").allows(a)}):[];var g=b("ChatSidebarStore").isAfterDomLoad(),i=h._chatSidebarRecentCallsStore?h._chatSidebarRecentCallsStore.getState():{},j=h._chatSidebarRecentCallsStore?h._chatSidebarRecentCallsStore.getParticipants():[];j=b("ChatSidebarUserDetailsFactory").getUsersDetailedData([].concat(c,e,a,f,j,d),g);g=h._orderedListComponent;b("ReactDOM").render(b("React").createElement(g,{adminedPages:h._adminedPages,availableUsers:c,groups:b("WorkChatSidebarUtils").computeGroups(h._groups,h._pinnedThreads),isAfterDomLoad:b("ChatSidebarStore").isAfterDomLoad(),isSidebar:h._isSidebar,isUserOffline:b("PresencePrivacy").isUserOffline(),marketplaceThreads:h._marketplaceThreads,maxItemSlots:h._maxItemSlots+1,nearby:e,offlineUsers:a,pageListModule:h._pageListModule,pinnedThreads:h._pinnedThreads,pymmList:h._pymmList,recentCalls:i,scrollContainer:h._scrollContainer,topUsers:b("WorkChatSidebarUtils").computeTopUsers(f,h._pinnedThreads),usersDetailedData:j,workOthers:d}),h._orderedList);h.inform("render")})};h._debouncedRender=b("debounceAcrossTransitions")(h._render,300);h._typeAheadActive=!1;h._root=d;h._isVisible=!1;h._excludedIds={};h._numTopFriends=5;h._adminedPages=[];h._marketplaceThreads=[];h._pageListModule=null;h._pymmList={config:null,pages:[]};h._pinnedThreads=[];h._groups=[];h._nearby=[];h._hoverController=null;h._isHovering=!1;h._skippedRenderDuringHover=!1;h._isSidebar=c;h._maxItemSlots=0;h._orderedListComponent=g;h._chatSidebarRecentCallsStore=null;h._orderedList=b("DOM").find(h._root,".fbChatOrderedList");b("Event").listen(h._orderedList,"mouseover",function(){h.isSidebar&&(h._isHovering=!0)});b("Event").listen(h._orderedList,"mouseout",function(){h._isHovering=!1,h._skippedRenderDuringHover&&(h._skippedRenderDuringHover=!1,h._debouncedRender())});h._scrollableOrderedList=b("Parent").byClass(h._root,"scrollableOrderedList");h._scrollableArea=b("Parent").byClass(h._root,"scrollable");c&&new(b("ChatHovercard"))(babelHelpers.assertThisInitialized(h));b("Arbiter").subscribe("jslogger/dump",function(a,c){h.getSortedList(function(a){c.chat_lists=c.chat_lists||{sorted_list:a,available_list:b("PresenceOrderedList").getAvailableSorted(),excluded_list:h._excludedIds}})});b("Arbiter").subscribe("sidebar/typeahead/active",function(a,b){h._typeAheadActive=b,h._render()});b("ShortProfilesStore").addListener(function(){return h._debouncedRender()});b("ChatSidebarStore").addListener(function(){return h._debouncedRender()});e=b("qex")._("698066");e&&b("Bootloader").loadModules(["ChatSidebarRecentCallsStore"],function(a){h._chatSidebarRecentCallsStore=a,a.addListener(function(){return h._debouncedRender()})},"ChatOrderedList");b("gkx")("678257")?b("onAfterDisplay")(function(){b("PresencePrivacy").subscribe("privacy-user-presence-changed",function(){return h._debouncedRender()}),b("AvailableList").subscribe(b("AvailableListConstants").ON_AVAILABILITY_CHANGED,function(){return h._debouncedRender()})}):(b("PresencePrivacy").subscribe("privacy-user-presence-changed",function(){return h._debouncedRender()}),b("AvailableList").subscribe(b("AvailableListConstants").ON_AVAILABILITY_CHANGED,function(){return h._debouncedRender()}));b("gkx")("678258")&&b("WorkChatSidebarUtils").loadPinnedThreads(function(a){h._pinnedThreads=a,h._render()});return h}var d=c.prototype;d.getShowingUsers=function(){return b("DOM").scry(this._root,"li._42fz,li._5a58").map(this.getUserForNode)};d.getUserForNode=function(a){return b("DataStore").get(a,"id")||b("DataStore").get(a,"serverthreadid")};d.getHoverController=function(){this._hoverController||(this._hoverController=new(b("ChatOrderedListHover"))(this));return this._hoverController};d.getItemHeight=function(){return b("ChatSidebarConstants").getItemHeight()};d.getRoot=function(){return this._root};d.getSortedList=function(a){b("PresenceOrderedList").getSorted(this._numTopFriends,function(b){return a(b)})};d.hide=function(){if(!this._isVisible)return;this._isVisible=!1;b("CSS").hide(this._scrollableOrderedList||this._root);this.inform("hide")};d.setNumTopFriends=function(a,c,d){__p&&__p();var e=this;b("ChatSidebarPreloadStore").onLoaded(function(f){__p&&__p();var g=f.groups,h=f.nearby,i=f.adminedPages,j=f.marketplaceThreads,k=f.pageListModule;f=f.pymmList;var l=new(b("MessengerDivebarSizingTypedLogger"))();l.setMaxItemSlots(a).setSidebarType(d);a--;b("ChatConfig").get("show_header")&&a--;var m=b("gkx")("678259"),n=!b("ChatOptions").getSetting("hide_businesses")&&f.pages&&d!=="buddylist";m&&n&&(a-=3);i=b("ChatOptions").getSetting("hide_admined_pages")?[]:i;m&&i.length&&d!=="buddylist"&&(a-=i.length+1);m=(j==null?void 0:j.length)&&!b("ChatOptions").getSetting("hide_marketplace");m&&b("qex")._("690094")&&d!=="buddylist"&&(e._marketplaceThreads=j,a-=j.length);e._maxItemSlots=a;m=a;j=b("ChatSidebarStore").getGroupsToShow(g||[])||[];g=n?f:{config:null,pages:[]};n=j.length;n===0&&b("gkx")("678261")&&!b("ChatOptions").getSetting("hide_groups")&&n++;n>0&&(m-=n+1);b("ChatConfig").get("nearby_friends_www_chatbar")&&h.length>0&&(m-=h.length+1);b("ChatConfig").get("show_admined_pages")&&i.length>0&&d!=="buddylist"&&(m-=i.length+1);b("ChatConfig").get("show_businesses")&&g.pages.length>0&&d!=="buddylist"&&(m-=2);f=m;m=Math.min(a,Math.max(m,b("ChatConfig").get("min_top_friends")||0));if(m!==e._numTopFriends||j.length!==e._groups.length||h.length!==e._nearby.length||i.length!==e._adminedPages.length||g.pages.length!==e._pymmList.pages.length){e._groups=j;e._numTopFriends=m;e._nearby=h;e._adminedPages=i;e._pageListModule=k;e._pymmList=g;l.setNumTopFriends(m).setNumNearby(h.length).setNumGroups(j.length).setNumAdminedPages(i.length).setNumPymm(g.pages.length);n=0;d==="buddylist"&&i.length>0&&(n+=i.length+1,l.setNumAdminedPages(0));d==="buddylist"&&g.pages.length>0&&(l.setNumPymm(0),n+=2);f+=n;m>f&&(f+=1);l.setNumTopFriendsShown(Math.max(f,0));b("ChatSidebarStore").getVisibleType()===d&&l.log();c?(typeof e._debouncedRender.reset==="function"&&e._debouncedRender.reset(),e._render()):e._debouncedRender()}})};d.show=function(){if(this._isVisible)return;this._isVisible=!0;b("CSS").show(this._scrollableOrderedList||this._root);this._render();this.inform("show")};d.isVisible=function(){return this._isVisible};d.setScrollContainer=function(a){b("DOM").contains(a,this._root)&&(this._scrollContainer=a)};return c}(b("mixin")(b("ArbiterMixin")));e.exports=a}),null);
__d("ChatQuietLinks",["DataStore","DOM","Event","Parent","UserAgent_DEPRECATED","getOrCreateDOMID"],(function(a,b,c,d,e,f){__p&&__p();var g={};a={silenceLinks:function(a){h(a,this.removeEmptyHrefs.bind(this))},nukeLinks:function(a){h(a,this.removeAllHrefs.bind(this))},removeEmptyHrefs:function(a){i(a,function(a){return!a||a==="#"})},removeAllHrefs:function(a){i(a)}};function h(a,c){__p&&__p();if(!a)return;var d=!!b("UserAgent_DEPRECATED").chrome(),e=!!b("UserAgent_DEPRECATED").chrome()||b("UserAgent_DEPRECATED").ie()>=9||b("UserAgent_DEPRECATED").firefox()>=4;if(g[b("getOrCreateDOMID")(a)])return;g[b("getOrCreateDOMID")(a)]=!0;if(!e)return;if(!d){c&&c(a);return}b("Event").listen(a,"mouseover",function(a){a=b("Parent").byTag(a.getTarget(),"a");if(a){var c=a.getAttribute("href");j(c)&&(b("DataStore").set(a,"stashedHref",a.getAttribute("href")),a.removeAttribute("href"))}});b("Event").listen(a,"mouseout",function(a){a=b("Parent").byTag(a.getTarget(),"a");var c=a&&b("DataStore").remove(a,"stashedHref");j(c)&&a.setAttribute("href",c)});b("Event").listen(a,"mousedown",function(a){if(!a.isDefaultRequested())return!0;a=b("Parent").byTag(a.getTarget(),"a");var c=a&&b("DataStore").get(a,"stashedHref");j(c)&&a.setAttribute("href",c)})}function i(a,c){a=b("DOM").scry(a,"a");c&&(a=a.filter(function(a){return c(a.getAttribute("href"))}));a.forEach(function(a){a.removeAttribute("href"),a.tabIndex||a.setAttribute("tabindex",0)})}function j(a){return a&&a!=="#"}e.exports=a}),null);
__d("ChatSidebarParticipantTooltipBuilder",["fbt","React"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h=10,i="\n";function a(a,b){var c=[],d=Math.min(h,a.length);a=a.slice(0,d);a.forEach(function(a){a=a.name;a&&c.push(a)});d<b&&c.push(g._("and {num} more...",[g._param("num",b-d)]));return c.join(i)}e.exports={buildParticipantsTooltip:a,MAX_NUM_PARTICIPANTS_TO_RENDER:h}}),null);
__d("OrderedFriendsList",["AvailableListConstants","ChatProfileStore","ChatSidebarParticipantTooltipBuilder","ChatSidebarPreloadStore","CurrentUser","MercuryIDs","PresenceStatus","SearchableEntry","ShortProfiles","createArrayFromMixed","isValidUniqueID"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=null,h={},i=[],j={};function k(a){a=String(a);return b("MercuryIDs").isValid(a)?a:b("MercuryIDs").getParticipantIDFromUserID(a)}function l(a,c){a=b("createArrayFromMixed")(a);c(a.filter(function(a){a=b("ShortProfiles").getNow(a);return!a||o(a)||a.is_nonfriend_messenger_contact}))}function m(a){g=[];var c=0;a.forEach(function(a){var d=a.slice(0,-2);a=a.slice(-1);b("PresenceStatus").get(d)==a&&(g[c]=d,h[d]=c++)})}function n(a){var c=0;a.forEach(function(a){var d=a.slice(0,-2);a=a.slice(-1);a==b("AvailableListConstants").ACTIVE&&(i[c]=d,j[d]=c++)})}function o(a){return a.type==="friend"||b("CurrentUser").isWorkUser()&&a.type==="fb4c"}var p={contains:function(a){return a in h},getList:function(a){if(g&&g.length){l(g,a);return}b("ChatSidebarPreloadStore").onLoaded(function(b){b=b.buddies;m(b);l(g,a)})},getSearchableEntries:function(a,c,d){__p&&__p();p.getList(function(e){__p&&__p();b("ChatSidebarPreloadStore").onLoaded(function(f){__p&&__p();var g=f.groups,h=f.recentPageList;b("ShortProfiles").getMulti(e.slice(0,a),function(a){var b=[];for(var e in a)b.push(p.normalizeProfileEntry(a[e],e));a=c?g.map(p.normalizeThreadEntry):[];var f=h.map(p.normalizePageEntry);d(b.concat(a,f).filter(function(a){return!!a}).sort(function(a,b){return a.getOrder()-b.getOrder()}))})})})},normalizePageEntry:function(a,c){var d=a.searchTokens||[],e=a.name,f=null;return new(b("SearchableEntry"))({uniqueID:a.id||c,keywordString:d.join(" "),order:c,photo:a.imgSrc,title:e,subtitle:f,type:"page",uri:a.uri,auxiliaryData:{isVerified:a.isVerified}})},normalizeProfileEntry:function(a,c){var d=a.searchTokens||[],e=a.name,f=null;return new(b("SearchableEntry"))({uniqueID:a.id||c,keywordString:d.join(" "),order:p.getRank(a.id||c),photo:a.thumbSrc,title:e,subtitle:f,type:a.type,uri:a.uri,auxiliaryData:{isMessengerUser:a.is_messenger_user}})},normalizeThreadEntry:function(a,c){__p&&__p();var d=a.mercury_thread,e=a.participants_to_render.map(function(a){return babelHelpers["extends"]({},a,{id:k(a.id)})});d.participants=d.participants.map(k);var f=a.text,g=null;f||(f=d.name);var h=b("ChatSidebarParticipantTooltipBuilder").buildParticipantsTooltip(e,d.participants.length-1),i=e.map(function(a){return a.name}).join(", ");!f?f=i:g=i;i=a.uid;return!f||!b("isValidUniqueID")(i)?null:new(b("SearchableEntry"))({uniqueID:i,order:c,photo:d.image_src,title:f,subtitle:g,type:"thread",auxiliaryData:{participantsToRender:e,tooltipContent:h,thread:d}})},getRank:function(a){return a in h?h[a]:g?g.length:0},getActiveList:function(a){if(i.length>0){a(i);return}p.getList(function(b){return a(b)})},getActiveRank:function(a){return a in j?j[a]:p.getRank(a)}};(function(){b("ChatSidebarPreloadStore").onLoaded(function(a){var c=a.buddies;a=a.shortProfiles;b("ShortProfiles").setMulti(a);n(c);m(c)}),b("ChatProfileStore").init()})();e.exports=p}),null);
__d("MercuryBootloadOnInteraction.react",["React","createCancelableFunction","promiseDone"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){__p&&__p();var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.state={Component:null},d.$2=function(a){a=d.state.interactionType==="click"?"click":a.type;d.setState({interactionType:a},function(){b("promiseDone")(d.props.loader.load(),function(a){d.props.takeOverRender?d.props.takeOverRender(function(){return d.$1(a)}):d.$1(a)})})},d.$3=function(a){d.setState({Component:a})},d.$4=function(a){d.state.interactionType!=="click"&&d.setState({interactionType:void 0})},c)||babelHelpers.assertThisInitialized(d)}var d=c.prototype;d.componentDidMount=function(){this.$1=b("createCancelableFunction")(this.$3)};d.componentWillUnmount=function(){this.$1.cancel()};d.render=function(){__p&&__p();var a={onFocus:this.$2,onMouseOver:this.$2,onClick:this.$2,onBlur:this.$4};if(!this.state.Component)return b("React").cloneElement(this.props.placeholder,a);a=this.state.Component;var c={};switch(this.state.interactionType){case"focus":c.autoFocus=!0;break;case"click":c.clicked=!0;break}return b("React").cloneElement(this.props.component,babelHelpers["extends"]({},c,{LazyLoadedComponent:a}))};return c}(b("React").PureComponent);e.exports=a}),null);
__d("ChatTypeaheadCore",["csx","cx","fbt","Bootloader","BootloadOnRender.react","CurrentUser","DOM","JSResource","LazyComponent.react","MercuryBootloadOnInteraction.react","React","ReactDOM","WorkSMBHelpSidebar","emptyFunction","ge","gkx","onAfterDisplay"],(function(a,b,c,d,e,f,g,h,i){"use strict";__p&&__p();var j=b("WorkSMBHelpSidebar").module,k=b("gkx")("678264")?b("MercuryBootloadOnInteraction.react"):b("BootloadOnRender.react"),l,m="",n=[],o={search:"._58al",settings:"._5vmb",compose:"._5q85",groupcreate:"._1-4-"},p=!1,q=b("emptyFunction");a={_handleInteraction:function(a,c){if(!b("gkx")("678264"))return;n.push(a);a==="search"&&(m=c?c:"")},_handleCompositionStart:function(){p=!0},_handleCompositionEnd:function(){p=!1,q(),q=b("emptyFunction")},takeOverRender:function(a){!p?a():q===b("emptyFunction")&&(q=a)},processInteractionsQueue:function(){n.forEach(function(a){if(!o[a])return;var c=b("DOM").scry(b("ge")("chatsearch"),o[a]);c&&c[0]&&(a!=="search"?c[0].click():l=c[0],c[0].focus())})},focusSearchField:function(a,c){if(!l){a=b("DOM").scry(a,"._3rhb input");a.length>0&&(l=a[0])}l&&(l.focus(),c.prevent())},getLastSearchQuery:function(){return m},deferRenderChatSidebarSheet:function(a){b("onAfterDisplay")(function(){b("Bootloader").loadModules(["ChatSidebarSheet.react"],function(c){var d=b("ge")("chatsidebarsheet");b("ReactDOM").render(b("React").createElement(c,{className:"fbChatSidebarMessage",viewer:b("CurrentUser").getID(),isSideBar:a}),d)},"ChatTypeaheadCore")})},init:function(a,c,d){var e=this;b("gkx")("678264")&&this.deferRenderChatSidebarSheet(d);b("ReactDOM").render(b("React").createElement("div",null,b("React").createElement("div",{id:"chatsidebarsheet"}),b("React").createElement(k,{loader:b("JSResource")("ChatTypeaheadWrapper.react").__setRef("ChatTypeaheadCore"),placeholder:b("React").createElement("div",null,j&&b("React").createElement(j,null),b("React").createElement("div",{className:"_1nq2"},b("React").createElement("div",{className:"_5iwm _5iwn _62it"},b("React").createElement("label",{className:"_58ak _3rhb"},b("React").createElement("input",{className:"_58al",type:"text",onChange:function(a){return e._handleInteraction("search",a.target.value)},onFocus:function(a){return e._handleInteraction("search",a.target.value)},onCompositionStart:this._handleCompositionStart,onCompositionEnd:this._handleCompositionEnd,placeholder:i._("Search")})))),d?b("React").createElement("div",{className:"_531b"},b("React").createElement("div",{className:"_5qth _6a _6e"},b("React").createElement("a",{href:"#",className:"button _5vmb",onClick:function(){return e._handleInteraction("settings")}})),b("React").createElement("a",{href:"#",className:"_3a-4 _5q85",onClick:function(){return e._handleInteraction("compose")}}),b("React").createElement("div",{className:"_46fv"},b("React").createElement("a",{href:"#",className:"_1-4-",onClick:function(){return e._handleInteraction("groupcreate")}}))):null),takeOverRender:this.takeOverRender,component:b("React").createElement(b("LazyComponent.react"),{id:c,isSidebar:d})})),a)}};e.exports=a}),null);
__d("SRXUIBadge.react",["cx","invariant","React","joinClasses"],(function(a,b,c,d,e,f,g,h){__p&&__p();a=function(a){"use strict";__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.isInt=function(a){return parseInt(a,10)===a};d.render=function(){var a=this.props.count,c=this.props.maxcount;c==null&&(c=20);this.isInt(a)||h(0,186);this.isInt(c)||h(0,187);var d="_5ugh _5ugf _51lp"+(a>c?" _51lr":"")+(a===0?" hidden_elem":"");return b("React").createElement("span",{className:b("joinClasses")(this.props.className,d)},a>c?c:a)};return c}(b("React").Component);e.exports=a}),null);
__d("BootloaderGamesPresenceIconContainer.react",["BootloadOnRender.react","JSResource","LazyComponent.react","React"],(function(a,b,c,d,e,f){"use strict";function a(a){return b("React").createElement(b("BootloadOnRender.react"),{component:b("React").createElement(b("LazyComponent.react"),{userID:a.userID}),loader:b("JSResource")("GamesPresenceIconContainer.react").__setRef("BootloaderGamesPresenceIconContainer.react"),placeholder:b("React").createElement("div",null)})}e.exports=a}),null);
__d("ChatPerfTypedLogger",["Banzai","GeneratedLoggerUtils","nullthrows"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a=function(){__p&&__p();function a(){this.$1={}}var c=a.prototype;c.log=function(){b("GeneratedLoggerUtils").log("logger:ChatPerfLoggerConfig",this.$1,b("Banzai").BASIC)};c.logVital=function(){b("GeneratedLoggerUtils").log("logger:ChatPerfLoggerConfig",this.$1,b("Banzai").VITAL)};c.logImmediately=function(){b("GeneratedLoggerUtils").log("logger:ChatPerfLoggerConfig",this.$1,{signal:!0})};c.clear=function(){this.$1={};return this};c.getData=function(){return babelHelpers["extends"]({},this.$1)};c.updateData=function(a){this.$1=babelHelpers["extends"]({},this.$1,a);return this};c.setDuration=function(a){this.$1.duration=a;return this};c.setEndpoint=function(a){this.$1.endpoint=a;return this};c.setEvent=function(a){this.$1.event=a;return this};c.setTabsOpen=function(a){this.$1.tabs_open=a;return this};c.setTime=function(a){this.$1.time=a;return this};c.setWeight=function(a){this.$1.weight=a;return this};return a}();c={duration:!0,endpoint:!0,event:!0,tabs_open:!0,time:!0,weight:!0};e.exports=a}),null);
__d("DeviceBasedLoginWWWQP",["CSS","Event","tidyEvent"],(function(a,b,c,d,e,f){"use strict";a={swapWithShadowMessageOnClick:function(a,c,d){b("tidyEvent")(b("Event").listen(a,"click",function(a){b("CSS").hide(c),b("CSS").show(d)}))}};e.exports=a}),null);
__d("ChatPerfInstrumentation",["Promise","BaseEventEmitter","ChatPerfTypedLogger","CurrentUser","FantaConst","PresenceState","emptyFunction","performanceAbsoluteNow"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a=b("CurrentUser").isWorkUser();c=a?b("FantaConst").cookieIDs.WORK_COOKIE_ID:b("FantaConst").cookieIDs.PERSONAL_COOKIE_ID;d=b("PresenceState").getInitial();var g=d&&d[c]?d[c].length:0,h;f={_startTime:Number,_sidebarStartTime:Number,init:function(){this._startTime=b("performanceAbsoluteNow")();return new(b("Promise"))(function(a){return a()})},initDivebar:function(){this._sidebarStartTime=b("performanceAbsoluteNow")()},_log:function(a,c){c=b("performanceAbsoluteNow")()-(c||this._startTime);h&&h.emit(a,c);var d=new(b("ChatPerfTypedLogger"))();d.setEvent(a).setDuration(c);d.setTabsOpen(g);d.log()},addPerfTimingsListener:function(a,c){h||(h=new(b("BaseEventEmitter"))());return h.once(a,c)},logInitStores:function(){this.logInitStores=b("emptyFunction"),this._log("chat_init_stores")},logInitData:function(){this.logInitData=b("emptyFunction"),this._log("chat_init_data")},logInitUI:function(){this.logInitUI=b("emptyFunction"),this._log("chat_init_ui")},logInitSound:function(){this.logInitSound=b("emptyFunction"),this._log("chat_init_sound")},logDisplayDone:function(){this.logDisplayDone=b("emptyFunction"),this._log("chat_display_done")},logTTI:function(){this.logTTI=b("emptyFunction"),this._log("tti")},logCHAT_CONVERSATION_TTI:function(){this.logCHAT_CONVERSATION_TTI=b("emptyFunction"),this._log("chat_conversation_tti")},logSIDEBAR_FROM_CLIENT_TTI:function(){this.logSIDEBAR_FROM_CLIENT_TTI=b("emptyFunction"),this._log("sidebar_from_client_tti",this._sidebarStartTime)},logSIDEBAR_DISPLAY_DONE:function(){this.logSIDEBAR_DISPLAY_DONE=b("emptyFunction"),this._log("sidebar_display_done",this._sidebarStartTime)}};e.exports=f}),null);
__d("WorkChatAvailabilityStatusLoader",["Promise","Bootloader","nullthrows"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a={_store:null,_actions:null,_promise:null,getStoreEnforce:function(){b("nullthrows")(this._store,"Status store is not loaded");return this._store},getActionsEnforce:function(){b("nullthrows")(this._actions,"Status actions is not loaded");return this._actions},isLoaded:function(){return this._store!=null&&this._actions!=null},load:function(){var a=this;this._promise||(this._promise=new(b("Promise"))(function(c){b("Bootloader").loadModules(["WorkChatAvailabilityStatusActions","WorkChatAvailabilityStatusStore"],function(b,d){a._store=d,a._actions=b,c({store:d,actions:b})},"WorkChatAvailabilityStatusLoader")}));return this._promise}};e.exports=a}),null);
__d("MercuryParticipantListRenderer",["fbt","MercuryIDs"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();a=function(){__p&&__p();function a(){__p&&__p();var a=this;this.$6=function(c){var d=a.$5;if(d!=null){var e=b("MercuryIDs").getUserIDFromParticipantID(c.id);if(e!=null&&d[e]!=null&&d[e]!=void 0)return d[e]}return a.$2?c.short_name:c.name};this.$1=!1;this.$2=!1;this.$3=!1;this.$4=0;this.$5=null}var c=a.prototype;c.renderParticipantList=function(a){a=a.map(this.$6);switch(a.length){case 0:return h(this.$1);case 1:return i(a);case 2:return this.$3?k(a):j(a);case 3:return this.$3?m(a):l(a);default:return this.$3?o(a,this.$4):n(a,this.$4)}};c.setIsNewThread=function(a){this.$1=a;return this};c.setNameRenderer=function(a){this.$6=a;return this};c.setUseShortName=function(a){this.$2=a;return this};c.setNickname=function(a){this.$5=a;return this};c.setUseAndSeparator=function(a){this.$3=a;return this};c.setTotalParticipantCount=function(a){this.$4=a;return this};return a}();function h(a){if(a)return g._("New message");else return g._("No Participants")}function i(a){return a[0]}function j(a){return g._("{participant1}, {participant2}",[g._param("participant1",a[0]),g._param("participant2",a[1])])}function k(a){return g._("{participant1} and {participant2}",[g._param("participant1",a[0]),g._param("participant2",a[1])])}function l(a){return g._("{participant1}, {participant2}, {participant3}",[g._param("participant1",a[0]),g._param("participant2",a[1]),g._param("participant3",a[2])])}function m(a){return g._("{participant1}, {participant2}  and {participant3}",[g._param("participant1",a[0]),g._param("participant2",a[1]),g._param("participant3",a[2])])}function n(a,b){return g._("{participant1}, {participant2}, {participant3}, {others_link}",[g._param("participant1",a[0]),g._param("participant2",a[1]),g._param("participant3",a[2]),g._param("others_link",p((b||a.length)-3))])}function o(a,b){return g._("{participant1}, {participant2} and {others_link}",[g._param("participant1",a[0]),g._param("participant2",a[1]),g._param("others_link",p((b||a.length)-2))])}function p(a){if(a>1)return g._({"*":"{others_count} others"},[g._param("others_count",a,[0])]);else return g._("1 other")}e.exports=a}),null);
__d("ChatSidebarPresencePrivacyStore",["ChatDispatcher","ChatSidebarPresencePrivacyActions","FluxReduceStore","PresencePrivacy"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.getInitialState=function(){return{currentUser:b("PresencePrivacy").getVisibility(),onlinePolicy:b("PresencePrivacy").getOnlinePolicy(),friends:b("PresencePrivacy").getFriendsVisibility()}};d.reduce=function(a,c){switch(c.type){case b("ChatSidebarPresencePrivacyActions").PRIVACY_CHANGED:return{onlinePolicy:b("PresencePrivacy").getOnlinePolicy(),currentUser:b("PresencePrivacy").getVisibility(),friends:b("PresencePrivacy").getFriendsVisibility()};case b("ChatSidebarPresencePrivacyActions").USER_PRESENCE_CHANGED:return babelHelpers["extends"]({},a,{onlinePolicy:b("PresencePrivacy").getOnlinePolicy(),currentUser:b("PresencePrivacy").getVisibility()})}return a};d.isUserOffline=function(){return this.getState().currentUser===b("PresencePrivacy").OFFLINE};return c}(b("FluxReduceStore"));a.__moduleID=e.id;e.exports=new a(b("ChatDispatcher"))}),null);
__d("ChatSidebarHideReason",[],(function(a,b,c,d,e,f){a=Object.freeze({VIEWPORT_INCAPABLE:0,LOW_FRIEND_COUNT:1,NOT_ENABLED:2,OFF_HOMEPAGE:3});e.exports=a}),null);
__d("ChatSidebarVisibility",["ChatConfig","ChatSidebarHideReason","ChatSidebarStore","OrderedFriendsList","URI","getViewportDimensions","gkx"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("ChatConfig").get("sidebar.min_friends"),h=b("ChatConfig").get("sidebar.minimum_width"),i=b("ChatConfig").get("sidebar.hide_divebar_off_homepage"),j={getViewport:function(){return b("gkx")("678657")?b("getViewportDimensions")():b("getViewportDimensions").withoutScrollbars()},shouldShowSidebar:function(a,c,d){j.shouldShowSidebarIgnoreEnabled(a,function(a,d){var e=b("ChatSidebarStore").isEnabled();c(a&&e,e?d:d.concat([b("ChatSidebarHideReason").NOT_ENABLED]))},d)},shouldShowSidebarIgnoreEnabled:function(a,c,d){__p&&__p();var e=this;b("OrderedFriendsList").getActiveList(function(f){var k=a||j.getViewport();k=k.width>h;f=f.length<g;var l=!0,m=[];i&&!e.isOnHomepage(d)&&(l=!1,m.push(b("ChatSidebarHideReason").OFF_HOMEPAGE));k||(l=!1,m.push(b("ChatSidebarHideReason").VIEWPORT_INCAPABLE));f&&(l=!1,m.push(b("ChatSidebarHideReason").LOW_FRIEND_COUNT));c(l,m)})},isOnHomepage:function(a){a=a?a.getPath():new(b("URI"))(window.location.href).getPath();return a==="/"},isSidebarVisible:function(){return b("ChatSidebarStore").getVisibleType()==="sidebar"},isBuddyListVisible:function(){return b("ChatSidebarStore").getVisibleType()==="buddylist"}};e.exports=j}),null);
__d("ChatSidebar",["csx","Arbiter","AsyncRequest","Bootloader","ChatConfig","ChatDispatcher","ChatPerfInstrumentation","ChatSidebarActions","ChatSidebarBotsDispatcher","ChatSidebarBotsStore","ChatSidebarCachedViewport","ChatSidebarPresencePrivacyStore","ChatSidebarStore","ChatSidebarVisibility","CSS","CurrentUser","DOM","DOMDimensions","Event","LitestandClassicPlaceHolders","Parent","PresencePrivacy","PresenceUtil","SidebarAppsInitialVisibility","SidebarWorkTopGroupsVisibility","Style","TimeSlice","URI","ViewportBounds","emptyFunction","ge","gkx","ifRequired","onAfterDisplay","onAfterLoadSafe","queryThenMutateDOM","requireWeak"],(function(a,b,c,d,e,f,g){__p&&__p();var h=b("ChatSidebarBotsDispatcher").module,i=b("ChatSidebarBotsStore").module,j,k,l,m,n,o,p=!0,q=b("ChatSidebarCachedViewport").viewport,r=44,s=117,t=40,u=32,v=44,w=30,x=171,y=b("ChatConfig").get("expanded_divebar_width"),z=b("ChatConfig").get("sidebar.hide_buddylist_off_homepage"),A=b("ChatConfig").get("sidebar.hide_buddylist_off_allpage"),B="buddylistOff";function C(){return b("ChatSidebarStore").getVisibleType()==="sidebar"}function D(a,b){if(!C())return;b?m.hide():(m.show(),H())}function E(){return!C()||!l?0:y}function F(){b("CSS").removeClass(document.documentElement,"sidebarMode");var a=A||z&&new(b("URI"))(window.location.href).getPath()!=="/";a?b("CSS").addClass(document.documentElement,B):(b("CSS").removeClass(document.documentElement,B),(z||A)&&b("Bootloader").loadModules(["Dock"],function(a){a.resizeAllFlyouts()},"ChatSidebar"));b("ChatSidebarStore").isInitialized()&&(m.hide(),b("CSS").hide(l),b("CSS").hide(k));b("Arbiter").inform("sidebar/visibility",!1,"state");b("Arbiter").inform("reflow");b("ViewportBounds").inform("change")}function G(a){H(a,Q._cacheViewport)}function H(a,c){var d;b("queryThenMutateDOM")(function(){c&&c(),(!a||a.height!==q.height)&&(d=M())},function(){(a==null||a.width!==q.width)&&b("ChatSidebarVisibility").shouldShowSidebar(q,function(a,c){b("ChatSidebarActions").show(a?"sidebar":"buddylist")}),N(d)})}function I(){b("ChatSidebarVisibility").shouldShowSidebar(q,function(a,c){b("ChatSidebarActions").show(a?"sidebar":"buddylist")}),N(M())}function J(a){b("Bootloader").loadModules(["KeyboardShortcuts"],function(c){c.register("q",function(c){if(b("ChatSidebarStore").getVisibleType()!=="sidebar")return;b("requireWeak")("ChatTypeaheadCore",function(b){b.focusSearchField(a,c)})},{persistOnTransition:!0})},"ChatSidebar")}function K(a){var c=q||b("ChatSidebarVisibility").getViewport(),d=c.height;a&&a.length?(a.forEach(function(a){a&&a!==j&&!b("CSS").hasClass(a,"hidden_elem")&&(d-=b("DOMDimensions").getElementDimensions(a).height)}),o&&(d-=o.getOffset()),n&&(d-=b("DOMDimensions").getElementDimensions(n).height)):(b("ifRequired")("AppsDivebarDisplayController",function(a){a.isVisible()&&(d-=x)},function(){b("SidebarAppsInitialVisibility").visible&&(d-=x)}),b("CurrentUser").isWorkUser()&&(i&&i.hasBots()&&(d-=s),b("SidebarWorkTopGroupsVisibility").visible&&(d-=t*b("SidebarWorkTopGroupsVisibility").numGroups+u),b("gkx")("678652")&&(d-=v)),d-=r,d-=w);return Math.max(0,d)}function L(){b("CSS").show(k),b("CSS").show(l),b("CSS").addClass(document.documentElement,"sidebarMode"),b("CSS").removeClass(document.documentElement,B),z&&b("Bootloader").loadModules(["Dock"],function(a){a.resizeAllFlyouts()},"ChatSidebar"),m.show(),b("Arbiter").inform("sidebar/visibility",!0,"state"),b("LitestandClassicPlaceHolders").destroy("sidebar"),b("ViewportBounds").inform("change")}function M(){return{body:Q.getBodyHeight(),item:m.getItemHeight()}}function N(a){if(!a)return;var c=8,d=Math.floor((a.body-c)/a.item);m.setNumTopFriends(d,p,"sidebar");p=!1;d=Math.floor(a.body-c);b("Style").set(j,"height",a.body+"px");b("Arbiter").inform("sidebar/resized",d,"state");b("Arbiter").inform("reflow")}function O(){var a;b("queryThenMutateDOM")(function(){a=M()},function(){return N(a)})}function P(){new(b("AsyncRequest"))("/ajax/chat/settings.php").setHandler(b("emptyFunction")).setErrorHandler(b("emptyFunction")).setData({sidebar_mode:b("ChatSidebarStore").isEnabled(),window_id:b("PresenceUtil").getSessionID()}).setAllowCrossPageTransition(!0).send()}var Q={init:function(a,c){__p&&__p();Q.init=b("emptyFunction"),b("ChatPerfInstrumentation").initDivebar(),b("ChatDispatcher").explicitlyRegisterStore(b("ChatSidebarStore")),b("ChatDispatcher").explicitlyRegisterStore(b("ChatSidebarPresencePrivacyStore")),h&&i&&h.explicitlyRegisterStore(i),b("ChatSidebarActions").loaded(),l=a,m=c,j=b("DOM").find(a,"div.fbChatSidebarBody"),k=b("DOM").find(a,"._51x_"),n=b("DOM").find(a,"._5qqe"),b("Event").listen(window,"resize",function(){var a=babelHelpers["extends"]({},q)||{};G(a)}),b("Arbiter").subscribe("page_transition",function(a,c){b("ChatSidebarVisibility").shouldShowSidebar(q,function(a,d){d=document.documentElement||"";z&&c.uri.getPath()!=="/"?b("CSS").addClass(d,B):b("CSS").removeClass(d,B);b("ChatSidebarActions").show(a?"sidebar":"buddylist")},c.uri)}),b("gkx")("678653")?b("onAfterDisplay")(function(){J(a)}):J(a),m.setScrollContainer(b("Parent").byClass(m.getRoot(),"uiScrollableAreaWrap")),b("Arbiter").subscribe("chat/option-changed",function(a,b){a=b.name;(a==="hide_groups"||a==="hide_admined_pages"||a==="hide_businesses")&&O()}),b("Arbiter").subscribe(["AppsDivebar/show-apps","AppsDivebar/hide-apps","PagesDivebar/show-pages","PagesDivebar/hide-pages"],O),b("Arbiter").subscribe("sidebar/typeahead/active",D),b("PresencePrivacy").subscribe("privacy-user-presence-changed",function(){H(),b("ChatSidebarActions").userPresenceChanged()}),b("PresencePrivacy").subscribe("privacy-changed",function(){H(),b("ChatSidebarActions").privacyChanged()}),b("ChatSidebarStore").addListener(function(){var a=b("ChatSidebarStore").getState(),c=b("ChatSidebarStore").getPrevState();if(a.visible!==c.visible)switch(a.visible){case"sidebar":L();break;case"buddylist":F();break}a.enabled!==c.enabled&&P()}),i&&i.addListener(function(){return O()}),b("gkx")("678654")?(I(),b("onAfterLoadSafe")(function(){if(q.needsRefresh){var a=b("ChatSidebarStore").getState().visible==="sidebar";G();b("onAfterLoadSafe")(function(){a!==(b("ChatSidebarStore").getState().visible==="sidebar")&&b("Bootloader").loadModules(["ChatReliabilityInstrumentation"],function(a){a.logERROR("sidebar flashed")},"ChatSidebar")})}})):G(),b("onAfterLoadSafe")(function(){b("Bootloader").loadModules(["ChatImpressionLogger"],function(a){a.init(m)},"ChatSidebar")}),b("ViewportBounds").addPersistentRight(E),b("Arbiter").inform("sidebar/initialized",Q,"state"),b("ChatSidebarActions").init(),b("ChatPerfInstrumentation").logSIDEBAR_DISPLAY_DONE()},ensureLoaded:function(){__p&&__p();if(!b("ChatSidebarStore").isEnabled())return;if(b("ChatSidebarStore").isLoaded())return;if(b("ge")("pagelet_sidebar"))return;b("Bootloader").loadModules(["UIPagelet"],function(a){var c=b("DOM").create("div",{id:"pagelet_sidebar"});b("DOM").appendContent(document.body,c);a.loadFromEndpoint("SidebarPagelet","pagelet_sidebar")},"ChatSidebar");b("ChatSidebarActions").loaded()},hide:function(){if(!b("ChatSidebarStore").isEnabled())return;b("ChatSidebarActions").disable()},unhide:function(){if(b("ChatSidebarStore").isEnabled())return;b("ChatSidebarVisibility").shouldShowSidebarIgnoreEnabled(null,function(a,c){b("ChatSidebarActions").enable(a?"sidebar":"buddylist")})},_cacheViewport:function(){q=b("ChatSidebarVisibility").getViewport()},getBodyHeight:function(){return b("gkx")("678259")?K():K(Array.from(k.childNodes))}};Q.init=b("TimeSlice").guard(Q.init,"ChatSidebar init");e.exports=Q}),null);
__d("SRLayout.react",["cx","React","joinClasses"],(function(a,b,c,d,e,f,g){function a(a){return b("React").createElement("div",{className:b("joinClasses")(a.className,"_5aj7")},a.children)}e.exports=a}),null);
__d("SRLayoutColumn.react",["cx","React","joinClasses"],(function(a,b,c,d,e,f,g){function a(a){return b("React").createElement("div",{className:b("joinClasses")(a.className,"_4bl7")},a.children)}e.exports=a}),null);
__d("SRLayoutFillColumn.react",["cx","React","joinClasses"],(function(a,b,c,d,e,f,g){function a(a){return b("React").createElement("div",{className:b("joinClasses")(a.className,"_4bl9")},a.children)}e.exports=a}),null);
__d("SRLink.react",["React"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.render=function(){return b("React").createElement("a",this.props,this.props.children)};return c}(b("React").Component);e.exports=a}),null);
__d("SplitImage.react",["cx","Image.react","React","joinClasses"],(function(a,b,c,d,e,f,g){__p&&__p();a=function(a){"use strict";__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.render=function(){var a=this.props.size,c=this.props.srcs,d=this.props.border,e=this.props.className,f=this.props.halfView;if(c.length===0)return null;var g=null;c.length===1?g=this.$1(c[0],a):c.length===2?g=this.$2(c,a,d):g=this.$3(c,a,d,f);return b("React").createElement("div",{className:b("joinClasses")(e,"_55lt"),style:{width:a,height:a}},g)};d.$1=function(a,c){return b("React").createElement(b("Image.react"),{src:a,width:c,height:c,alt:""})};d.$2=function(a,c,d){var e=Math.floor(c/2),f=-Math.floor(e/2);d="_55lu"+(d?" _57xo":"");return b("React").createElement("div",null,b("React").createElement("div",{className:"_55lu",style:{width:e}},b("React").createElement(b("Image.react"),{src:a[0],width:c,height:c,style:{marginLeft:f},alt:""})),b("React").createElement("div",{className:d,style:{width:e}},b("React").createElement(b("Image.react"),{src:a[1],width:c,height:c,style:{marginLeft:f},alt:""})))};d.$3=function(a,c,d,e){e=e===!0?Math.floor(c/3*1.5)+1:Math.floor(c/3*2);var f=-Math.floor((c-e)/2),g=Math.floor(c/2),h=c-e,i=-Math.floor((g-h)/2),j="_55lu"+(d?" _57pl":"");d="_55lu"+(d?" _57pm":"");return b("React").createElement("div",null,b("React").createElement("div",{className:j,style:{width:e}},b("React").createElement(b("Image.react"),{src:a[0],width:c,height:c,style:{marginLeft:f},alt:""})),b("React").createElement("div",{className:d,style:{width:h,height:g}},b("React").createElement(b("Image.react"),{src:a[1],width:g,height:g,style:{marginLeft:i},alt:""})),b("React").createElement("div",{className:"_55lu",style:{width:h,height:g}},b("React").createElement(b("Image.react"),{src:a[2],width:g,height:g,style:{marginLeft:i},alt:""})))};return c}(b("React").Component);e.exports=a}),null);
__d("ChatSidebarAdminedPage.react",["cx","Bootloader","React","SplitImage.react","SRLayout.react","SRLayoutColumn.react","SRLayoutFillColumn.react","SRLink.react","SRXUIBadge.react","emptyFunction","gkx"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){__p&&__p();var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.$3=function(){var a=d.props,c=a.slot,e=a.slotOffset,f=a.totalSlots;b("Bootloader").loadModules(["MessengerChatSidebarSlotsTypedLogger"],function(a){new a().setSlotClicked(e+c).setSlotsVisibleBeforeScrolling(f).setRelativeSlotClicked(d.props.slot).setSidebarSection("admined_pages").log()},"ChatSidebarAdminedPage.react")},d.$2=function(){var a=String(d.props.page.id);b("gkx")("678658")||b("gkx")("678659")?b("Bootloader").loadModules(["ChatSidebarHoverCardV2","MessengerChatSidebarSlotsTypedLogger"],function(b,c){b.show(a,d.$1)},"ChatSidebarAdminedPage.react"):b("Bootloader").loadModules(["MessengerChatSidebarSlotsTypedLogger"],b("emptyFunction"),"ChatSidebarAdminedPage.react");d.props.onMouseEnter&&d.props.onMouseEnter(a)},c)||babelHelpers.assertThisInitialized(d)}var d=c.prototype;d.render=function(){var a=this,c=9,d=this.props.page,e=d.imgSrc,f=[];e!=null&&(f=[e]);return b("React").createElement("li",{className:"_12um _42fz","data-id":d.id,ref:function(b){a.$1=b},onMouseOver:this.$2,onClick:this.$3},b("React").createElement("div",{className:"_55ln"},b("React").createElement("div",{className:"_55lp"},b("React").createElement(b("SRLayout.react"),null,b("React").createElement(b("SRLayoutColumn.react"),null,b("React").createElement(b("SRLink.react"),{href:d.uri},b("React").createElement("div",{className:"_55lq"},b("React").createElement(b("SplitImage.react"),{size:d.imgSize,srcs:f})))),b("React").createElement(b("SRLayoutFillColumn.react"),null,b("React").createElement(b("SRLink.react"),{className:"_224p",href:d.uri},b("React").createElement("div",{className:"_55lr"},d.name))),b("React").createElement(b("SRLayoutColumn.react"),{className:"_3p8_"},b("React").createElement("div",{className:"_5bon"},b("React").createElement(b("SRXUIBadge.react"),{className:"_4fsv",count:d.badgingCount,maxcount:c})))))))};return c}(b("React").Component);e.exports=a}),null);
__d("ChatSidebarHeader.react",["cx","React","joinClasses"],(function(a,b,c,d,e,f,g){__p&&__p();a=function(a){"use strict";babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.render=function(){return b("React").createElement("div",{onClick:this.props.onClick,className:b("joinClasses")(this.props.className,"_55ob")},b("React").createElement("div",{className:"_55oc"},this.props.children))};return c}(b("React").Component);e.exports=a}),null);
__d("XPagesBrowserController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/pages/",{category:{type:"String"},ref:{type:"String"},cityid:{type:"Int"},similar:{type:"Int"},frompageid:{type:"Int"},actAsPageID:{type:"Int"},source:{type:"String"},pyml:{type:"Int"},viewallpywo:{type:"Bool",defaultValue:!1},notif_id:{type:"Int"}})}),null);
__d("ChatSidebarAdminedPagesSection.react",["cx","fbt","ChatSidebarHeader.react","LeftRight.react","React","SRLink.react","XPagesBrowserController"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();var i=3;function a(a){var c=null;if(a.adminedPages.length>=i){var d=b("XPagesBrowserController").getURIBuilder().setString("category","your_pages").setString("ref",a.adminedPages[0].ref).getURI();c=b("React").createElement(b("SRLink.react"),{className:"_2l56",href:d,target:"_blank"},h._("SEE ALL"))}d=a.pageListModule;return b("React").createElement(b("React").Fragment,null,b("React").createElement(b("ChatSidebarHeader.react"),{className:"_4kqp"},b("React").createElement(b("LeftRight.react"),null,h._("YOUR PAGES"),c)),b("React").createElement(d,{adminedPages:a.adminedPages,onMouseEnter:a.onMouseEnterItem}))}e.exports=a}),null);
__d("XWorkSaveGroupPurposeController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/work/group_creation/dialog/save_purpose/",{purpose:{type:"String",required:!0},ref:{type:"String",required:!0},name:{type:"String"},community:{type:"FBID"},coworkers_to_invite:{type:"IntVector",defaultValue:[]},back_disallowed:{type:"Bool",defaultValue:!1}})}),null);
__d("ChatSidebarCreateNewGroupItem.react",["ix","cx","fbt","Bootloader","Image.react","MercuryConfig","QE2Logger","React","SRLink.react","TooltipData","XWorkSaveGroupPurposeController","asset"],(function(a,b,c,d,e,f,g,h,i){"use strict";__p&&__p();a=b("React").PropTypes;c=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){__p&&__p();var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.$2=function(a){b("QE2Logger").logExposureForUser("workchat_synced_groups_universe");if(b("MercuryConfig").WorkSyncedGroupAutoCreateEnabled)return;var c=d.props,e=c.slot,f=c.slotOffset,g=c.totalSlots;b("Bootloader").loadModules(["MessengerChatSidebarSlotsTypedLogger","MessengerGCFJewelNewGroupButtonInit"],function(a,b){new a().setSlotClicked(f+e).setSlotsVisibleBeforeScrolling(g).setRelativeSlotClicked(e).setSidebarSection("groups").log(),b.onLinkClick()},"ChatSidebarCreateNewGroupItem.react");a.preventDefault()},c)||babelHelpers.assertThisInitialized(d)}var d=c.prototype;d.render=function(){var a=i._("Create new group"),c=g("492281"),d=20,e="_55ln _qhr",f=b("MercuryConfig").WorkSyncedGroupAutoCreateEnabled?b("XWorkSaveGroupPurposeController").getURIBuilder().setString("purpose","work_team").setString("ref","group_creation_button_on_chat_sidebar").setBool("back_disallowed",!0).getURI():"#",h=b("MercuryConfig").WorkSyncedGroupAutoCreateEnabled?"dialog":"ignore";return b("React").createElement("div",b("TooltipData").propsFor(this.$1()),b("React").createElement(b("SRLink.react"),{className:e,href:f,onClick:this.$2,rel:h},b("React").createElement("div",{className:"_55lp"},b("React").createElement("div",{className:"_55lq _tt_","aria-hidden":!0},b("React").createElement(b("Image.react"),{className:"_tu0",src:c,width:d,height:d,alt:""})),b("React").createElement("div",{className:"_55lr"},a))))};d.$1=function(){return i._("Create new group")};return c}(b("React").PureComponent);c.propTypes={slot:a.number,slotOffset:a.number,totalSlots:a.number};e.exports=c}),null);
__d("ChatSidebarNameWithGameInfo.react",["BootloadOnRender.react","JSResource","LazyComponent.react","React","TextWithEmoticons.react"],(function(a,b,c,d,e,f){"use strict";function a(a){var c=a.name,d=a.userID;a=a.nameCanHaveEmoji!=null&&a.nameCanHaveEmoji;var e=a?b("React").createElement(b("TextWithEmoticons.react"),{renderEmoticons:!0,renderEmoji:!0,text:c}):c;return b("React").createElement(b("BootloadOnRender.react"),{component:b("React").createElement(b("LazyComponent.react"),{originalElement:e,userID:d}),loader:b("JSResource")("ChatSidebarItemUserPlayingGameInfoContainer.react").__setRef("ChatSidebarNameWithGameInfo.react"),placeholder:a?e:b("React").createElement("div",null,c)})}e.exports=a}),null);
__d("ChatSidebarProfile.react",["cx","Image.react","React","SplitImage.react","gkx"],(function(a,b,c,d,e,f,g){__p&&__p();function h(a,c,d){d=Math.round(c/3);d=c-d;return b("React").createElement("div",{className:"_44yp",style:{height:c,width:c}},b("React").createElement("div",{className:"_1gyw"},b("React").createElement(b("Image.react"),{src:a[0],width:d,height:d,alt:""})),b("React").createElement("div",{className:"_1gyw"},b("React").createElement(b("Image.react"),{src:a[1],width:d,height:d,alt:""})))}function i(a){return b("React").createElement("div",{className:"_55lq"+(a.showingPresenceOnProfile?" _2be2":""),"aria-hidden":"true"},b("React").createElement(b("SplitImage.react"),{size:a.imageSize,srcs:a.images,className:"_1gyw"}),a.showingPresenceOnProfile&&a.isActive?b("React").createElement("div",{className:"_1gyx"}):null)}a=function(a){"use strict";__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.render=function(){if(!b("gkx")("697231"))return i(this.props);var a=this.props,c=a.images,d=a.imageSize,e=a.isActive;a=a.showMultiCompany;var f=b("gkx")("697231")&&c.length>1;c=f?h(c,d):b("React").createElement(b("SplitImage.react"),{className:"_1gyw",size:d,srcs:c});return b("React").createElement("div",{"aria-hidden":!0,className:"_7049 _6--1"+(f?" _44yq":""),style:{height:d,width:d}},c,a===!0?b("React").createElement("div",{className:"_4rwy"}):e?b("React").createElement("div",{className:"_1gyx"}):null)};return c}(b("React").PureComponent);e.exports=a}),null);
__d("ChatSidebarStatus.react",["cssVar","cx","fbt","ix","Image.react","React","asset","gkx"],(function(a,b,c,d,e,f,g,h,i,j){__p&&__p();a=function(a){"use strict";__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.render=function(){var a=this.props,c=this.renderStatusIcon();if(c==null&&a.statusTime==null)return null;var d=!0,e=a.unreadCount;e!=null&&e>0&&(c=a.statusTime!=null?null:c,d=!1);a.showingPresenceOnProfile===!1&&a.isDoNotDisturb===!0&&a.isWorkUser&&b("gkx")("678573")&&(d=!1);return b("React").createElement("div",{className:"_568z"+(a.showRelationshipIndicator?" _2oov":"")},d?this.renderLastActiveTime():null,c)};d.renderStatusIcon=function(){__p&&__p();var a=this.props;if(a.isMessengerOnlyContact===!0)return b("React").createElement(b("Image.react"),{alt:i._("Using Messenger without Facebook"),className:"_568_",src:j("28076")});else if(a.showingPresenceOnProfile===!1&&a.isDoNotDisturb===!0&&a.isWorkUser&&b("gkx")("678573"))return b("React").createElement("span",{"aria-label":i._("Do Not Disturb"),className:"_3zdc"});else if(a.isMultiCompany===!0&&a.isWorkUser)return b("React").createElement("div",{"aria-label":i._("Multi-company chat"),className:"_6p8n"});else if(a.status===2)if(a.showRelationshipIndicator===!0)return b("React").createElement(b("Image.react"),{src:j("593722"),alt:i._("hearts icon")});else if(a.showingPresenceOnProfile===!1)return b("React").createElement("span",{"aria-label":i._("Active now"),style:{background:"#42b72a",borderRadius:"50%",display:"inline-block",height:"6px",marginLeft:"4px",veritcalAlign:"middle",width:"6px"}});return null};d.renderLastActiveTime=function(){return b("React").createElement("div",{className:"_568-"},this.props.statusTime)};return c}(b("React").PureComponent);e.exports=a}),null);
__d("RenderOnClient.react",["React"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a=function(a){babelHelpers.inheritsLoose(b,a);function b(){return a.apply(this,arguments)||this}var c=b.prototype;c.render=function(){return this.props.component};return b}(b("React").Component);e.exports=a}),null);
__d("isFalsey",[],(function(a,b,c,d,e,f){"use strict";function a(a){return a==null||!Boolean(a)}e.exports=a}),null);
__d("ChatSidebarItem.react",["cx","ix","BootloaderGamesPresenceIconContainer.react","BootloadOnRender.react","ChatSidebarConstants","ChatSidebarNameWithGameInfo.react","ChatSidebarProfile.react","ChatSidebarStatus.react","CurrentUser","ErrorBoundary.react","Image.react","JSResource","LazyComponent.react","React","RenderOnClient.react","ShortProfiles","SRLink.react","SRXUIBadge.react","TextWithEmoticons.react","gkx","isFalsey"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();var i=b("gkx")("865973");a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){var b,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return(b=c=a.call.apply(a,[this].concat(e))||this,c.state={hasHovered:!1,hover:!1},c.$2=function(){c.setState({hasHovered:!0,hover:!0}),c.props.onMouseEnter!=null&&c.props.onMouseEnter()},c.$3=function(){c.setState({hover:!1})},b)||babelHelpers.assertThisInitialized(c)}var d=c.prototype;d.render=function(){var a="_55ln"+(this.props.context?" _55lo":"")+" _qhr",c=this.props.nameCanHaveEmoji===!0?b("React").createElement(b("RenderOnClient.react"),{component:b("React").createElement(b("TextWithEmoticons.react"),{renderEmoticons:!0,renderEmoji:!0,text:this.props.name})}):this.props.name,d=b("ShortProfiles").getNow(this.props.userID||"");return i&&(d==null?void 0:d.is_blocked)?null:b("React").createElement(b("ErrorBoundary.react"),{fallbackComponent:this.$1},b("React").createElement(b("SRLink.react"),{className:a,href:this.props.href,onClick:this.props.onClick,onMouseEnter:this.$2,onMouseLeave:this.$3,rel:"ignore"},b("React").createElement("div",{className:"_55lp"},this.$4(),b("React").createElement("div",{className:"_5bon"},this.renderWaveButton(),this.renderPlayingGame(),this.renderBirthday(),this.renderUnreadCount(),this.renderStatus()),b("React").createElement("div",{className:"_55lr"},this.props.isPlayingGame===!0&&this.props.userID!=null&&this.props.statusTime===null&&this.props.birthday!==!0?this.$5():c),b("React").createElement("div",{className:"_55ls"},this.props.context))))};d.renderUnreadCount=function(){var a=this.props.unreadCount;return b("isFalsey")(a)?null:b("React").createElement(b("SRXUIBadge.react"),{count:a,maxcount:9})};d.renderStatus=function(){return b("React").createElement(b("ChatSidebarStatus.react"),{isMessengerOnlyContact:this.props.isMessengerOnlyContact,isDoNotDisturb:this.props.isDoNotDisturb,isWorkUser:b("CurrentUser").isWorkUser(),isMultiCompany:this.props.isMultiCompany,showingPresenceOnProfile:!1,showRelationshipIndicator:this.props.showRelationshipIndicator,status:this.props.status,unreadCount:this.props.unreadCount,statusTime:this.props.statusTime})};d.renderWaveButton=function(){var a=b("ShortProfiles").getNow(this.props.userID||"");if(i&&(a==null?void 0:a.is_blocked)||!this.props.showWave||this.props.userID==null)return null;return!this.state.hasHovered&&b("gkx")("678661")?b("React").createElement("div",null):b("React").createElement(b("BootloadOnRender.react"),{loader:b("JSResource")("WaveButton.react").__setRef("ChatSidebarItem.react"),placeholder:b("React").createElement("div",null),component:b("React").createElement(b("LazyComponent.react"),{userID:this.props.userID,hover:this.state.hover})})};d.renderBirthday=function(){if(this.props.birthday!==!0)return null;var a="_5dv3",c=h("74517");return b("React").createElement(b("Image.react"),{className:a,src:c})};d.renderPlayingGame=function(){return this.props.statusTime!=null||this.props.birthday===!0||this.props.isPlayingGame!==!0?null:b("React").createElement(b("RenderOnClient.react"),{component:b("React").createElement(b("BootloaderGamesPresenceIconContainer.react"),{userID:this.props.userID})})};d.$1=function(){return b("React").createElement(b("SRLink.react"),{"aria-hidden":!0,tabIndex:-1})};d.$4=function(){var a=this.props.imageSize,c=this.props.image,d=this.props.images;a=a!=null?a:b("ChatSidebarConstants").getImageSize();var e=[];c!=null?e=[c]:d!=null&&(e=d);return b("React").createElement(b("ChatSidebarProfile.react"),{showingPresenceOnProfile:!1,imageSize:a,isActive:!1,images:e})};d.$5=function(){return b("React").createElement(b("RenderOnClient.react"),{component:b("React").createElement(b("ChatSidebarNameWithGameInfo.react"),{name:this.props.name,nameCanHaveEmoji:this.props.nameCanHaveEmoji,userID:this.props.userID})})};return c}(b("React").PureComponent);e.exports=a}),null);
__d("ChatSidebarThread.react",["Bootloader","ChatSidebarItem.react","ChatSidebarParticipantTooltipBuilder","MercuryIDs","MercuryParticipantListRenderer","React","TooltipData","WebMessengerThreadPermalinks","WorkForeignEntityInfo.bs","requireWeak"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a=b("React").PropTypes;c=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){__p&&__p();var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.$2=function(a){var c=d.props,e=c.slot,f=c.slotOffset,g=c.threadFBID,h=c.totalSlots;g&&b("requireWeak")("FantaTabActions",function(a){a.openTab(d.props.numOtherParticipants===1?b("MercuryIDs").getThreadIDFromUserID(g):b("MercuryIDs").getThreadIDFromThreadFBID(g),["divebar_groups"])});b("Bootloader").loadModules(["MessengerChatSidebarSlotsTypedLogger","ChatOpenTabEventLogger"],function(a,b){new a().setSlotClicked(f+e).setSlotsVisibleBeforeScrolling(h).setRelativeSlotClicked(e).setSidebarSection("groups").log(),g&&b.logClickOpen(d.props.referrer,g)},"ChatSidebarThread.react");a.preventDefault()},c)||babelHelpers.assertThisInitialized(d)}var d=c.prototype;d.render=function(){var a=this.props.name,c=g(this.props.threadFBID,this.props.participants,this.props.numOtherParticipants),d=a?c:void 0,e=this.props.image?[]:h(this.props.participants);a=a?a:c;c=!b("WorkForeignEntityInfo.bs").areAllCoworkers(this.props.participants);return b("React").createElement("div",b("TooltipData").propsFor(this.$1()),b("React").createElement(b("ChatSidebarItem.react"),{birthday:this.props.birthday,context:d,href:this.props.threadFBID&&b("WebMessengerThreadPermalinks").getThreadURIFromServerID(this.props.threadFBID),imageSize:this.props.imageSize,image:this.props.image,images:e,isDoNotDisturb:this.props.isDoNotDisturb,isMultiCompany:c,name:a,nameCanHaveEmoji:!0,onClick:this.$2,referrer:this.props.referrer,status:this.props.status,unreadCount:this.props.unreadCount,showWave:!1,showRelationshipIndicator:!1}))};d.$1=function(){return b("ChatSidebarParticipantTooltipBuilder").buildParticipantsTooltip(this.props.participants,this.props.numOtherParticipants)};return c}(b("React").PureComponent);c.propTypes={birthday:a.bool,image:a.string,imageSize:a.number,name:a.string,participants:a.array.isRequired,numOtherParticipants:a.number.isRequired,referrer:a.string,slot:a.number,slotOffset:a.number,status:a.number,threadFBID:a.string,totalSlots:a.number,unreadCount:a.number};c.defaultProps={numOtherParticipants:b("ChatSidebarParticipantTooltipBuilder").MAX_NUM_PARTICIPANTS_TO_RENDER};function g(a,c,d){return new(b("MercuryParticipantListRenderer"))().setIsNewThread(!a).setUseShortName(d>1).setTotalParticipantCount(d).renderParticipantList(c).toString()}function h(a){return a.map(function(a){return a.image_src}).filter(function(a){return a})}e.exports=c}),null);
__d("ChatSidebarGroupThreadsGroup.react",["cx","ChatSidebarConstants","ChatSidebarThread.react","MercuryIDs","PresencePrivacy","PresenceStatus","React"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();a=b("React").PropTypes;c=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.$1=function(a,c){var e=a.mercury_thread.participants;e=e.map(function(a){return typeof a==="string"&&b("MercuryIDs").isValid(a)?b("MercuryIDs").getUserIDFromParticipantID(a):a});var f=d.props.isDisconnected||b("PresencePrivacy").isUserOffline();return b("React").createElement("li",{className:"_42fz"+(f?" _570-":""),"data-id":a.uid,key:a.uid},b("React").createElement(b("ChatSidebarThread.react"),{image:a.mercury_thread.image_src,imageSize:b("ChatSidebarConstants").getImageSize(),name:a.mercury_thread.name,participants:a.participants_to_render,numOtherParticipants:e.length-1,referrer:"ordered_list",slot:c,slotOffset:d.props.slotOffset,status:b("PresenceStatus").getGroup(e),threadFBID:a.uid,totalSlots:d.props.totalSlots}))},c)||babelHelpers.assertThisInitialized(d)}var d=c.prototype;d.render=function(){return b("React").createElement("ul",null,this.props.groups.map(this.$1))};return c}(b("React").Component);c.propTypes={groups:a.array.isRequired,isDisconnected:a.bool,slotOffset:a.number,totalSlots:a.number};e.exports=c}),null);
__d("ChatSidebarItemPlaceholder.react",["cx","React"],(function(a,b,c,d,e,f,g){"use strict";function a(a){var c=50+Math.ceil(50-2*(Math.pow(7+a.slot,2)%10));return b("React").createElement("li",{className:"_42fz"+(a.isDisconnected?" _570-":"")},b("React").createElement("div",{className:"_55ln _qhr"},b("React").createElement("div",{className:"_55lp"},b("React").createElement("span",{className:"_1qh _55lq"}),b("React").createElement("span",{className:"_55lr"},b("React").createElement("span",{className:"_1qh",style:{width:String(c)+"px"}})))))}e.exports=a}),null);
__d("ChatSidebarMarketplaceSectionLazy.react",["ErrorBoundary.react","JSResource","React","lazyLoadComponent"],(function(a,b,c,d,e,f){"use strict";var g=b("lazyLoadComponent")(b("JSResource")("ChatSidebarMarketplaceSection.react").__setRef("ChatSidebarMarketplaceSectionLazy.react"));function a(a){return b("React").createElement(b("ErrorBoundary.react"),null,b("React").createElement(b("React").Suspense,{fallback:null},b("React").createElement(g,{marketplaceThreads:a.marketplaceThreads})))}e.exports=a}),null);
__d("ChatSidebarOfflineOverlayWrapper.react",["BootloadOnRender.react","JSResource","LazyComponent.react","React"],(function(a,b,c,d,e,f){"use strict";function a(a){return b("React").createElement(b("BootloadOnRender.react"),{component:b("React").createElement(b("LazyComponent.react"),null),loader:b("JSResource")("ChatOfflineOverlay.react").__setRef("ChatSidebarOfflineOverlayWrapper.react"),placeholder:b("React").createElement("div",null)})}e.exports=a}),null);
__d("ChatSidebarPymmListSection.react",["BootloadOnRender.react","JSResource","LazyComponent.react","React"],(function(a,b,c,d,e,f){"use strict";function a(a){return b("React").createElement(b("BootloadOnRender.react"),{loader:b("JSResource")("ChatSidebarPymmListContainer.react").__setRef("ChatSidebarPymmListSection.react"),placeholder:b("React").createElement("div",null),component:b("React").createElement(b("LazyComponent.react"),{pymmList:a.pymmList})})}e.exports=a}),null);
__d("ChatSidebarUser.react",["Bootloader","ChatSidebarItem.react","MercuryIDs","React","WebMessengerThreadPermalinks","gkx","requireWeak"],(function(a,b,c,d,e,f){__p&&__p();a=function(a){"use strict";__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){__p&&__p();var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.handleMouseEnter=function(){var a=d.props.userID;d.props.onMouseEnter&&d.props.onMouseEnter(a);b("gkx")("678658")&&d.props.showHoverCard===!0&&b("Bootloader").loadModules(["ChatSidebarHoverCardV2","ReactDOM"],function(b,c){return b.show(a,c.findDOMNode(babelHelpers.assertThisInitialized(d)))},"ChatSidebarUser.react")},d.$1=function(a){var c=d.props,e=c.sectionName,f=c.slot,g=c.slotOffset,h=c.totalSlots,i=c.userID,j=b("MercuryIDs").getThreadIDFromUserID(i);b("requireWeak")("FantaTabActions",function(a){a.openTab(j,["divebar_"+e])});b("Bootloader").loadModules(["MessengerChatSidebarSlotsTypedLogger","ChatOpenTabEventLogger"],function(a,b){new a().setSlotClicked(g+f).setSlotsVisibleBeforeScrolling(h).setRelativeSlotClicked(f).setSidebarSection(e).log(),b.logUserClickOpen(e,i,{global_slot:f})},"ChatSidebarUser.react");a.preventDefault()},c)||babelHelpers.assertThisInitialized(d)}var d=c.prototype;d.render=function(){var a=b("WebMessengerThreadPermalinks").getThreadURIFromUserID(this.props.userID);return b("React").createElement(b("ChatSidebarItem.react"),{onClick:this.$1,onMouseEnter:this.handleMouseEnter,href:a,imageSize:this.props.imageSize,image:this.props.image,isDoNotDisturb:this.props.isDoNotDisturb,isPlayingGame:this.props.isPlayingGame,name:this.props.name,nameCanHaveEmoji:!1,showRelationshipIndicator:this.props.showRelationshipIndicator,status:this.props.status,birthday:this.props.birthday,statusTime:this.props.statusTime,context:this.props.context,unreadCount:this.props.unreadCount,isMessengerOnlyContact:this.props.isMessengerOnlyContact,userID:this.props.userID,showWave:this.props.showWave})};return c}(b("React").PureComponent);e.exports=a}),null);
__d("ChatSidebarUserGroupProfile.react",["cx","ChatSidebarItemPlaceholder.react","ChatSidebarUser.react","React","gkx"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();function a(a){var c=a.slot,d=a.profileData;if(d==null)return b("React").createElement(b("ChatSidebarItemPlaceholder.react"),{isDisconnected:a.isDisconnected,key:"placeholder"+c,slot:c});var e=d.shortProfile;if(!e.id)return null;var f=d.status,g=f!==2?d.lastActiveTime:null,h=a.isDisconnected||d.presencePrivacyAllows!==!0,i=a.sectionName==="nearby"?e.location:null,j=b("gkx")("678663");return b("React").createElement("li",{className:"_42fz"+(h?" _570-":""),"data-id":e.id,key:e.id},b("React").createElement(b("ChatSidebarUser.react"),{birthday:e.is_birthday,image:e.thumbSrc,imageSize:a.imageSize,isDoNotDisturb:a.doNotDisturbMap[e.id]===!0,isPlayingGame:d.isPlaying===!0,name:e.name,onMouseEnter:a.onMouseEnter,showHoverCard:a.showHoverCard,showRelationshipIndicator:e.show_relationship_indicator,sectionName:a.sectionName,slot:c,slotOffset:a.slotOffset,status:f,statusTime:g,totalSlots:a.totalSlots,userID:e.id,unreadCount:d.unreadCount,isMessengerOnlyContact:e.is_messenger_only,context:i,showWave:j}))}e.exports=a}),null);
__d("ChatSidebarUserGroupContainer.react",["ChatSidebarUserGroupProfile.react","CurrentUser","React","WorkChatAvailabilityStatusLoader","clearTimeout","emptyFunction","gkx","onAfterLoadSafe","promiseDone","requireWeak","setTimeoutAcrossTransitions"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=400,h=5e3;a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(c){__p&&__p();var d;d=a.call(this,c)||this;d.$1=null;d.$2={};d.state={doNotDisturbMap:{}};d.$6=function(){d.$3||(d.$3=b("setTimeoutAcrossTransitions")(function(){b("requireWeak")("FantaTabsEagerBootloader",function(a){return a.bootload()}),d.$6=b("emptyFunction")},g))};d.$7=function(){b("clearTimeout")(d.$3),d.$3=null};d.$4();return d}var d=c.prototype;d.componentDidMount=function(){__p&&__p();var a=this;b("onAfterLoadSafe")(function(){b("gkx")("678573")&&b("CurrentUser").isWorkUser()&&b("promiseDone")(b("WorkChatAvailabilityStatusLoader").load(),function(b){var c=b.store;a.props.ids.forEach(function(b){c.subscribeUser(b,a)});a.setState({doNotDisturbMap:a.$5(a.props.ids)});c.fetchUsers(a.props.ids);a.$1=c.addListener(function(){a.setState({doNotDisturbMap:a.$5(a.props.ids)})})})})};d.componentDidUpdate=function(){this.$4()};d.componentWillUnmount=function(){this.$1&&this.$1.remove()};d.UNSAFE_componentDidReceiveProps=function(a){__p&&__p();var c=this;if(b("gkx")("678573")&&b("WorkChatAvailabilityStatusLoader").isLoaded()){var d=b("WorkChatAvailabilityStatusLoader").getStoreEnforce();d.fetchUsers(a.ids.filter(function(a){return c.props.ids.indexOf(a)<0}));this.props.ids.forEach(function(a){return d.unsubscribeUser(a,c)});a.ids.forEach(function(a){return d.subscribeUser(a,c)})}};d.render=function(){var a=this,c=this.props.ids.filter(function(b){return!!a.props.usersDetailedData[b]||a.$2[b]==null||a.$2[b]===!1});return b("React").createElement("ul",{onMouseEnter:this.$6,onMouseLeave:this.$7},c.map(function(c,d){return b("React").createElement(b("ChatSidebarUserGroupProfile.react"),{doNotDisturbMap:a.state.doNotDisturbMap,imageSize:a.props.imageSize,isDisconnected:a.props.isDisconnected,onMouseEnter:a.props.onMouseEnterItem,showHoverCard:a.props.showHoverCard,sectionName:a.props.sectionName,slotOffset:a.props.slotOffset,totalSlots:a.props.totalSlots,profileData:a.props.usersDetailedData[c],id:c,key:c,slot:d})}))};d.$5=function(a){if(!b("gkx")("678573")||!b("CurrentUser").isWorkUser()||!b("WorkChatAvailabilityStatusLoader").isLoaded())return{};var c=b("WorkChatAvailabilityStatusLoader").getStoreEnforce(),d={};a.forEach(function(a){d[a]=c.getIsDoNotDisturb(a)});return d};d.$4=function(){var a=this;this.props.ids.forEach(function(b){var c=a.props.usersDetailedData[b];c?a.$8(b):a.$9(b)})};d.$9=function(a){var c=this;this.$2[a]===void 0&&(this.$2[a]=b("setTimeoutAcrossTransitions")(function(){delete c.$2[a],c.forceUpdate()},h))};d.$8=function(a){var c=this.$2[a];if(!c)return;b("clearTimeout")(c);delete this.$2[a]};return c}(b("React").Component);e.exports=a}),null);
__d("ChatSidebarOrderedList.react",["ix","cx","fbt","Bootloader","ChatConfig","ChatOptions","ChatQuietLinks","ChatReliabilityInstrumentation","ChatSidebarActions","ChatSidebarAdminedPagesSection.react","ChatSidebarConstants","ChatSidebarCreateNewGroupItem.react","ChatSidebarGroupThreadsGroup.react","ChatSidebarHeader.react","ChatSidebarMarketplaceSectionLazy.react","ChatSidebarOfflineOverlayWrapper.react","ChatSidebarPymmListSection.react","ChatSidebarRecentCalls","ChatSidebarUserGroupContainer.react","Image.react","LeftRight.react","React","ReactDOM","RenderOnClient.react","Run","Scroll","SRLink.react","cxMargin","fbglyph","gkx","ifRequired","qex"],(function(a,b,c,d,e,f,g,h,i){"use strict";__p&&__p();var j=b("ChatSidebarRecentCalls").ChatSidebarRecentCalls;a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){var b,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return(b=c=a.call.apply(a,[this].concat(e))||this,c.state={isDisconnected:!1},c.$1=null,c.$2=null,c.$3=null,b)||babelHelpers.assertThisInitialized(c)}var d=c.prototype;d.componentDidMount=function(){var a=this;b("ChatQuietLinks").nukeLinks(b("ReactDOM").findDOMNode(this.refs.noLinks));b("Run").onAfterLoad(function(){b("ChatSidebarActions").afterDomLoad(),a.$4()})};d.componentWillUnmount=function(){this.$1!=null&&this.$1.unsubscribe()};d.render=function(){if(this.props.hide)return null;var a=this.props.offlineUsers&&this.props.offlineUsers.length>0?this.$5():this.$6();a=b("React").createElement(b("React").Fragment,null,b("React").createElement("div",{ref:"noLinks"},this.$7(),this.$8()),this.$9(),b("React").createElement("div",{ref:"noLinks"},this.$10(),this.$11(),this.$12(),a));return b("React").createElement("div",{"data-testid":"chat_sidebar"},b("React").createElement("div",{ref:"noLinks"},this.$13()),b("React").createElement("div",{ref:"noLinks"},this.$14()),b("React").createElement("div",{ref:"noLinks"},this.$15()),!this.$16()&&a,this.$17())};d.$18=function(a){var c=this.props.scrollContainer;if(!c)return;var d=c.clientHeight,e=c.scrollHeight,f=b("Scroll").getTop(c),g=Math.min(a.offsetTop,e-d);f!==g&&b("ifRequired")("Animation",function(a){var b=Math.abs(g-f)/c.clientHeight*500;new a(c).to("scrollTop",g).ease(a.ease.end).duration(b).go()},function(){b("Scroll").setTop(c,g)})};d.$7=function(){if(!b("ChatConfig").getBool("show_header"))return null;var a=this.state.isDisconnected||this.props.isUserOffline;return b("React").createElement(b("ChatSidebarHeader.react"),{className:a?"_570-":""},i._("CONTACTS"))};d.$5=function(){var a=b("ChatSidebarConstants").getImageSize(),c=this.props.offlineUsers.slice(0,-2),d=i._("MORE CONTACTS"),e=i._("These contacts can't see you on chat.");return b("React").createElement(b("React").Fragment,null,b("React").createElement(b("ChatSidebarHeader.react"),null,d),b("React").createElement(b("ChatSidebarHeader.react"),{className:"_5j9-"},e," ",b("React").createElement("a",{ajaxify:"/ajax/chat/privacy/settings_dialog.php?ref=whitelist_separator",href:"#",rel:"dialog"},i._("Edit"))),b("React").createElement(b("ChatSidebarUserGroupContainer.react"),{ids:c,imageSize:a,isDisconnected:this.state.isDisconnected,loadExtras:this.props.isAfterDomLoad,onMouseEnterItem:this.props.onMouseEnterItem,sectionName:"offline_users",showHoverCard:this.props.isSidebar,slotOffset:this.$19(),totalSlots:this.props.maxItemSlots,usersDetailedData:this.props.usersDetailedData}))};d.$6=function(){__p&&__p();var a=this;if(this.props.availableUsers.length===0)return null;if(!this.props.isAfterDomLoad){var c=b("ChatSidebarConstants").getItemHeight();return b("React").createElement("div",{style:{height:c*this.props.availableUsers.length}})}c=b("ChatSidebarConstants").getImageSize();var d=i._("{MORE ONLINE CONTACTS} ({count})",[i._param("MORE ONLINE CONTACTS",i._("MORE CONTACTS")),i._param("count",this.props.availableUsers.length)]);return b("React").createElement(b("React").Fragment,null,b("React").createElement(b("ChatSidebarHeader.react"),{ref:function(b){a.$3=b},onClick:function(){return a.$18(b("ReactDOM").findDOMNode(a.$3))}},d),b("React").createElement(b("ChatSidebarUserGroupContainer.react"),{ids:this.props.availableUsers,imageSize:c,isDisconnected:this.state.isDisconnected,loadExtras:this.props.isAfterDomLoad,onMouseEnterItem:this.props.onMouseEnterItem,sectionName:"more_online_friends",showHoverCard:this.props.isSidebar,slotOffset:this.$19(),totalSlots:this.props.maxItemSlots,usersDetailedData:this.props.usersDetailedData}))};d.$19=function(){var a=this.$20();a+=this.$21();var b=this.props.groups;a+=this.$22(b.length);return a};d.$9=function(){return!b("ChatConfig").getBool("nearby_friends_www_chatbar")||this.props.nearby.length===0?null:b("React").createElement(b("ChatSidebarHeader.react"),{ref:"nearbySeparator"},b("React").createElement(b("LeftRight.react"),null,i._("NEARBY"),b("React").createElement(b("SRLink.react"),{target:"_blank",href:"/help/android-app/291236034364603"},b("React").createElement(b("Image.react"),{className:"_3-90",src:g("129548")}))))};d.$11=function(){if(!b("ChatConfig").getBool("nearby_friends_www_chatbar")||this.props.nearby.length===0)return null;var a=this.$20(),c=b("ChatSidebarConstants").getImageSize();return b("React").createElement(b("ChatSidebarUserGroupContainer.react"),{ids:this.props.nearby,imageSize:c,isDisconnected:this.state.isDisconnected,loadExtras:this.props.isAfterDomLoad,onMouseEnterItem:this.props.onMouseEnterItem,sectionName:"nearby",showHoverCard:this.props.isSidebar,slotOffset:a,totalSlots:this.props.maxItemSlots,usersDetailedData:this.props.usersDetailedData})};d.$21=function(){return this.props.nearby.length};d.$12=function(){var a=this.state.isDisconnected||this.props.isUserOffline,c=this.props.groups,d=this.$20()+this.$21();if(this.$23())return b("React").createElement(b("React").Fragment,null,this.$24(),b("React").createElement("ul",null,b("React").createElement("li",{className:"_42fz"+(a?" _570-":"")},b("React").createElement(b("RenderOnClient.react"),{component:b("React").createElement(b("ChatSidebarCreateNewGroupItem.react"),{slot:0,slotOffset:d,totalSlots:this.props.maxItemSlots})}))));else if(b("ChatOptions").getSetting("hide_groups")||this.props.groups.length===0)return null;return b("React").createElement(b("React").Fragment,null,this.$24(),b("React").createElement(b("RenderOnClient.react"),{component:b("React").createElement(b("ChatSidebarGroupThreadsGroup.react"),{groups:c.slice(0,this.$22(c.length)),isDisconnected:this.state.isDisconnected,loadExtras:this.props.isAfterDomLoad,slotOffset:d,totalSlots:this.props.maxItemSlots})}))};d.$24=function(){var a=this,c=this.state.isDisconnected||this.props.isUserOffline;return b("React").createElement(b("ChatSidebarHeader.react"),{ref:function(b){a.$2=b},className:c?"_570-":"",onClick:function(){return a.$18(b("ReactDOM").findDOMNode(a.$2))}},i._("GROUP CONVERSATIONS"))};d.$22=function(a){if(this.$23())return 1;else if(a===0)return 0;return Math.min(a,b("ChatConfig").getNumber("num_groups_to_show"))};d.$8=function(){var a=b("ChatSidebarConstants").getImageSize();return b("React").createElement(b("ChatSidebarUserGroupContainer.react"),{ids:this.props.topUsers,imageSize:a,isDisconnected:this.state.isDisconnected,loadExtras:this.props.isAfterDomLoad,onMouseEnterItem:this.props.onMouseEnterItem,sectionName:"ordered_list",showHoverCard:this.props.isSidebar,slotOffset:0,totalSlots:this.props.maxItemSlots,usersDetailedData:this.props.usersDetailedData})};d.$20=function(){return this.props.topUsers.length};d.$14=function(){var a=this.props.pymmList;if(a==null)return null;a=a.pages;return this.props.isSidebar!==!0||!b("ChatConfig").getBool("show_businesses")||a==null||a.length===0?null:b("React").createElement(b("RenderOnClient.react"),{component:b("React").createElement(b("ChatSidebarPymmListSection.react"),{pymmList:a})})};d.$13=function(){return b("gkx")("678659")||!b("ChatConfig").getBool("show_admined_pages")||this.props.adminedPages.length===0||this.props.pageListModule==null?null:b("React").createElement(b("RenderOnClient.react"),{component:b("React").createElement(b("ChatSidebarAdminedPagesSection.react"),{adminedPages:this.props.adminedPages,onMouseEnterItem:this.props.onMouseEnterItem,pageListModule:this.props.pageListModule})})};d.$10=function(){var a;a=((a=this.props.marketplaceThreads)==null?void 0:a.length)||0;return a===0||b("ChatOptions").getSetting("hide_marketplace")||!b("qex")._("690094")?null:b("React").createElement(b("RenderOnClient.react"),{component:b("React").createElement(b("ChatSidebarMarketplaceSectionLazy.react"),{marketplaceThreads:this.props.marketplaceThreads})})};d.$15=function(){return j?b("React").createElement(b("RenderOnClient.react"),{component:b("React").createElement(j,{recentCalls:this.props.recentCalls,usersDetailedData:this.props.usersDetailedData})}):null};d.$4=function(){var a=this;b("Bootloader").loadModules(["ChannelConnection"],function(c){a.$1=c.subscribe([c.CONNECTED,c.RECONNECTING,c.SHUTDOWN,c.MUTE_WARNING,c.UNMUTE_WARNING],function(){var d=c.disconnected();d!==a.state.isDisconnected&&(d?b("ChatReliabilityInstrumentation").logCHANNEL_DISCONNECT():b("ChatReliabilityInstrumentation").logCHANNEL_CONNECT(),a.setState({isDisconnected:d}))})},"ChatSidebarOrderedList.react")};d.$23=function(){return this.props.groups.length===0&&!b("ChatOptions").getSetting("hide_groups")};d.$16=function(){return b("gkx")("697231")&&this.props.isSidebar!==!0&&this.props.isUserOffline===!0};d.$17=function(){return!this.$16()?null:b("React").createElement(b("RenderOnClient.react"),{component:b("React").createElement(b("ChatSidebarOfflineOverlayWrapper.react"),null)})};return c}(b("React").PureComponent);e.exports=a}),null);
__d("ChatSidebarPageListContainer.react",["cx","ChatSidebarAdminedPage.react","React"],(function(a,b,c,d,e,f,g){"use strict";function a(a){var c=a.adminedPages.length;return b("React").createElement("ul",{className:"_4kqp"},a.adminedPages.map(function(d,e){return b("React").createElement(b("ChatSidebarAdminedPage.react"),{key:d.id,page:d,slot:e,slotOffset:0,totalSlots:c,onMouseEnter:a.onMouseEnter})}))}e.exports=a}),null);